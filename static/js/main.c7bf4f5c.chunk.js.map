{"version":3,"sources":["Validate/FormsControl.js","Validate/FormsControl.module.css","Validate/validator.js","components/Navbar/FriendsList/FriendList.module.css","components/Header/Header.module.css","redux/profileReducer.js","assets/images/loading2.gif","components/common/Prelouder.js","redux/dialogReducer.js","utilits/object-helpers.js","redux/usersReducer.js","components/Navbar/FriendsList/FriendItems.module.css","components/Login/Login.module.css","API/api.js","components/Navbar/Navbar.module.css","reportWebVitals.js","storeContext.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/authReducer.jsx","components/Header/HeaderContainer.jsx","components/Login/LogIn.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","App.js","index.js"],"names":["Element","Tag","input","meta","props","hasError","error","touched","className","s","formControl","errorTextarea","errorSpan","Textarea","Input","createForm","label","placeholder","name","component","validate","type","profileDataForm","initialValue","module","exports","required","value","undefined","maxValue","max","length","minValue","min","composeValidators","validators","reduce","validator","Add_Post","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","UPLOAD_PHOTO","SAVE_PROFILE","INVALID_URL","initialState","posts","id","message","likeCount","userProfile","status","invalidUrl","addPostActionCreator","postText","setUserProfile","setUserStatus","uploadPhotoSuccess","photo","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getUserStatus","profileAPI","getStatus","updateStatus","resultCode","uploadPhoto","savePhoto","photos","saveProfile","profileData","getState","saveProfileData","authPage","messages","profileReducer","state","action","newPost","newPostText","filter","p","postId","Prelouder","src","loadingGif","style","width","Send_Message","dialogs","sendMessageActionCreator","messageText","dialogReducer","text","newMessageText","updateObjectInArray","items","itemId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSucces","userID","unfollowSucces","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","getUserThunk","currentPge","getUsers","totalCount","count","unfollow","followUnfollowFlow","unfollowUser","bind","follow","followUser","APImethod","actionCreator","usersReducer","followed","instance","axios","create","withCredentials","headers","baseURL","get","then","delete","post","console","log","put","formData","FormData","set","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StoreContext","React","createContext","Navbar","Consumer","store","nav","item","to","activeClassName","active","findUsers","Header","header","alt","loginBlock","isAuth","onClick","logoutUser","SET_USER_DATA","WRONG_AUTH","wrongAuth","setUserAuthData","getAuthUserData","authReducer","HeaderContainer","this","Component","connect","LoginFormContainer","loginUser","onSubmit","e","render","handleSubmit","errorLogin","Login","INITIALIZED","isInitialized","sidebarReducer","reducers","combineReducers","profileComponent","dialogsComponent","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleWare","ProfileContainer","lazy","DialogsContainer","News","Music","Settings","UsersContainer","App","initializeApp","initialized","sidebar","fallback","path","AppContainer","withRouter","promise","Promise","all","SamuraiApp","ReactDOM","document","getElementById"],"mappings":"qTA4BMA,EAAU,SAACC,GAab,OAZoB,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,KAASC,EAAY,iBACzCC,EAAWF,EAAKG,OAASH,EAAKI,QACpC,OACI,sBAAKC,UAAWC,IAAEC,YAAc,IAAML,EAAWI,IAAEH,MAAQ,IAA3D,UACI,8BACI,cAACL,EAAD,uCAASC,GAAWE,GAApB,IAA2BI,UAAWH,GAAYI,IAAEE,mBAEvDN,GAAY,sBAAMG,UAAWC,IAAEG,UAAnB,SAA+BT,EAAKG,aAQpDO,EAAWb,EAAQ,YACnBc,EAAQd,EAAQ,SAEhBe,EAAa,SAACC,EAAOC,EAAaC,EAAMC,EAAWC,EAAUC,GACtE,OAAO,gCACH,gCAAQL,IACR,cAAC,IAAD,CAAOC,YAAaA,EAAaC,KAAMA,EAAMC,UAAWA,EAAWC,SAAUA,EAAUC,KAAMA,QAKxFC,EAAkB,SAACN,EAAOC,EAAaC,EAAMC,EAAWC,EAAUC,EAAME,GACjF,OAAO,gCACH,gCAAQP,IACR,cAAC,IAAD,CAAOC,YAAaA,EAAaC,KAAMA,EAAMC,UAAWA,EAAWC,SAAUA,EAAUC,KAAMA,EAAME,aAAcA,S,mBCzDzHC,EAAOC,QAAU,CAAC,cAAgB,oCAAoC,UAAY,kC,gCCAlF,wIAAO,IAAMC,EAAW,SAACC,GAAD,OAAWA,GAASA,OAAQC,EAAY,YAEnDC,EAAW,SAACC,GAAD,OAAS,SAACH,GAAD,OAAWA,GAASA,EAAMI,OAASD,EAAxB,8BAAqDA,QAAQF,IAE5FI,EAAW,SAACC,GAAD,OAAS,SAACN,GAAD,OAC7BA,GAASM,GAAON,EAAMI,OAAtB,iCAAyDE,QAAQL,IAExDM,EAAoB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAmB,SAACR,GAAD,OAChDQ,EAAWC,QAAO,SAAC9B,EAAO+B,GAAR,OAAsB/B,GAAS+B,EAAUV,UAAQC,M,mBCRvEJ,EAAOC,QAAU,CAAC,YAAc,gCAAgC,YAAc,kC,mBCA9ED,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,+TCCzDa,EAAW,WACXC,EAAmB,mBACnBC,EAAkB,kBAClBC,EAAc,cACdC,EAAe,eACfC,EAAe,eACfC,EAAc,cAEhBC,EAAe,CACjBC,MAAO,CACL,CAAEC,GAAI,EAAGC,QAAS,mBAAoBC,UAAW,IACjD,CAAEF,GAAI,EAAGC,QAAS,qBAAuBC,UAAW,KAEtDC,YAAa,KACbC,OAAQ,GACRC,WAAY,MAkEDC,EAAuB,SAACC,GAAD,MAAe,CAAEjC,KAAMiB,EAAUgB,aACxDC,EAAiB,SAACL,GAAD,MAAkB,CAAE7B,KAAMkB,EAAkBW,gBAC7DM,EAAgB,SAACL,GAAD,MAAa,CAAE9B,KAAMmB,EAAiBW,WAEtDM,EAAqB,SAACC,GAAD,MAAY,CAAErC,KAAMqB,EAAcgB,UAEvDN,EAAa,SAACA,GAAD,MAAiB,CAAE/B,KAAMuB,EAAaQ,eAEnDO,EAAiB,SAACC,GAAD,8CAAY,WAAOC,GAAP,eAAAC,EAAA,sEACnBC,IAASC,WAAWJ,GADD,OACpCK,EADoC,OAExCJ,EAASN,EAAeU,EAASC,OAFO,2CAAZ,uDAKjBC,EAAgB,SAACP,GAAD,8CAAY,WAAOC,GAAP,eAAAC,EAAA,sEAClBM,IAAWC,UAAUT,GADH,OACnCK,EADmC,OAEvCJ,EAASL,EAAcS,EAASC,OAFO,2CAAZ,uDAKhBI,EAAe,SAACnB,GAAD,8CAAY,WAAOU,GAAP,SAAAC,EAAA,sEACjBM,IAAWE,aAAanB,GADP,OAEL,IAFK,OAEzBe,KAAKK,YAChBV,EAASL,EAAcL,IAHa,2CAAZ,uDAOfqB,EAAc,SAACd,GAAD,8CAAW,WAAOG,GAAP,eAAAC,EAAA,sEACfM,IAAWK,UAAUf,GADN,OAEH,KAD7BO,EADgC,QAEvBC,KAAKK,YAEhBV,EAASJ,EAAmBQ,EAASC,KAAKA,KAAKQ,SAJb,2CAAX,uDAQdC,EAAc,SAACC,GAAD,8CAAiB,WAAOf,EAAUgB,GAAjB,iBAAAf,EAAA,sEACrBM,IAAWU,gBAAgBF,GADN,OACtCX,EADsC,OAGpCL,EAASiB,IAAWE,SAAShC,GAEF,IAA7BkB,EAASC,KAAKK,YAChBV,EAAST,EAAW,KACpBS,EAASF,EAAeC,KACc,IAA7BK,EAASC,KAAKK,YACvBV,EAAST,EAAWa,EAASC,KAAKc,SAAS,KATH,2CAAjB,yDAaZC,IA7GQ,WAAmC,IAAlCC,EAAiC,uDAAzBrC,EAAcsC,EAAW,uCAEvD,OAAQA,EAAO9D,MACb,KAAKiB,EACH,IAAI8C,EAAU,CACZrC,GAAI,EACJC,QAASmC,EAAO7B,SAChBL,UAAW,GAEb,OAAO,2BACFiC,GADL,IAEEpC,MAAM,GAAD,mBAAMoC,EAAMpC,OAAZ,CAAmBsC,IACxBC,YAAa,KAIjB,KAAK9C,EACH,OAAO,2BACF2C,GADL,IAEEhC,YAAaiC,EAAOjC,cAIxB,KAAKV,EACH,OAAO,2BACF0C,GADL,IAEE/B,OAAQgC,EAAOhC,SAInB,KAAKV,EACH,OAAO,2BACFyC,GADL,IAEEpC,MAAOoC,EAAMpC,MAAMwC,QAAO,SAAAC,GAAC,OAAIA,EAAExC,KAAOoC,EAAOK,YAInD,KAAK9C,EACH,OAAO,2BACFwC,GADL,IAEEhC,YAAY,2BAAMgC,EAAMhC,aAAb,IAA0BwB,OAAQS,EAAOzB,UAIxD,KAAKf,EACH,OAAO,2BACFuC,GADL,IAEEhC,YAAaiC,EAAOP,cAIxB,KAAKhC,EACH,OAAO,2BACFsC,GADL,IAEE9B,WAAY+B,EAAO/B,aAIvB,QAAS,OAAO8B,K,yCC9EL,MAA0B,qC,OCW1BO,IARG,SAACrF,GACf,OACI,8BACI,qBAAKsF,IAAKC,EAAYC,MAAO,CAAEC,MAAO,W,qFCN5CC,EAAe,eAEjBjD,EAAe,CACjBkD,QAAS,CACP,CAAE7E,KAAM,SAAU6B,GAAI,GACtB,CAAE7B,KAAM,SAAU6B,GAAI,GACtB,CAAE7B,KAAM,QAAS6B,GAAI,GACrB,CAAE7B,KAAM,QAAS6B,GAAI,GACrB,CAAE7B,KAAM,SAAU6B,GAAI,GACtB,CAAE7B,KAAM,SAAU6B,GAAI,IAExBC,QAAS,CACP,CAAEA,QAAS,KAAMD,GAAI,GACrB,CAAEC,QAAS,oBAAqBD,GAAI,GACpC,CAAEC,QAAS,KAAMD,GAAI,GACrB,CAAEC,QAAS,KAAMD,GAAI,GACrB,CAAEC,QAAS,KAAMD,GAAI,KAkBZiD,EAA2B,SAACC,GAAD,MAAkB,CAAE5E,KAAMyE,EAAcG,gBAEjEC,IAhBO,WAAmC,IAAlChB,EAAiC,uDAAzBrC,EAAcsC,EAAW,uCACtD,OAAQA,EAAO9D,MACb,KAAKyE,EACH,IAAIK,EAAOhB,EAAOc,YAClB,OAAO,2BACFf,GADL,IAEEkB,eAAgB,GAChBpD,QAAQ,GAAD,mBAAMkC,EAAMlC,SAAZ,CAAqB,CAAEA,QAASmD,EAAMpD,GAAI,OAGrD,QAAS,OAAOmC,K,2PC9BPmB,EAAsB,SAACC,EAAOC,EAAQC,EAAgBC,GACnE,OAASH,EAAMI,KAAI,SAAAC,GACf,OAAIA,EAAEH,KAAoBD,EACf,2BAAKI,GAAMF,GAEfE,MCFLC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAAwB,wBAE1BrE,EAAe,CACfsE,MAAO,GACPC,SAAU,EACVC,gBAAiB,GACjBC,YAAa,EACbC,YAAY,EACZC,oBAAqB,IAgEZC,EAAe,SAACC,GAAD,MAAa,CAAErG,KAAMuF,EAAQc,WAC5CC,EAAiB,SAACD,GAAD,MAAa,CAAErG,KAAMwF,EAAUa,WAEhDE,EAAiB,SAACC,GAAD,MAAiB,CAAExG,KAAM0F,EAAkBc,eAE5DC,EAAmB,SAACP,GAAD,MAAiB,CAAElG,KAAM4F,EAAoBM,eAChEQ,EAA0B,SAACR,EAAYG,GAAb,MAAyB,CAAErG,KAAM6F,EAAuBK,aAAYG,WAE9FM,EAAe,SAACZ,EAAUa,GACnC,8CAAO,WAAOpE,GAAP,eAAAC,EAAA,6DACHD,EAASiE,GAAiB,IADvB,SAEc/D,IAASmE,SAASd,EAAUa,GAF1C,OAEC/D,EAFD,OAGHL,EAAS+D,EAAeK,IACxBpE,EAASiE,GAAiB,IAC1BjE,GAZiBsD,EAYCjD,EAAKoC,MAZK,CAAEjF,KAAMyF,EAAWK,WAa/CtD,GAX2BwD,EAWCnD,EAAKiE,WAXe,CAAE9G,KAAM2F,EAAuBoB,MAAOf,KAKnF,iCALuB,IAACA,EAFVF,IAOd,OAAP,uDAUSkB,EAAW,SAACX,GACrB,8CAAO,WAAO7D,GAAP,SAAAC,EAAA,sDACHwE,EAAmBzE,EAAUE,IAASwE,aAAaC,KAAKzE,KAAW4D,EAAgBD,GADhF,2CAAP,uDAWSe,EAAS,SAACf,GACnB,8CAAO,WAAO7D,GAAP,SAAAC,EAAA,sDACHwE,EAAmBzE,EAAUE,IAAS2E,WAAWF,KAAKzE,KAAW0D,EAAcC,GAD5E,2CAAP,uDAWEY,EAAkB,uCAAG,WAAOzE,EAAU8E,EAAWC,EAAelB,GAA3C,SAAA5D,EAAA,6DACvBD,EAASkE,GAAwB,EAAML,IADhB,SAENiB,EAAUjB,GAFJ,OAGC,IAHD,OAGdnD,YACLV,EAAS+E,EAAclB,IAE3B7D,EAASkE,GAAwB,EAAOL,IANjB,2CAAH,4DAUTmB,IAlHM,WAAmC,IAAlC3D,EAAiC,uDAAzBrC,EAAcsC,EAAW,uCACnD,OAAQA,EAAO9D,MACX,KAAKuF,EACD,OAAO,2BACA1B,GADP,IAEIiC,MAAOd,EAAoBnB,EAAMiC,MAAOhC,EAAOuC,OAAQ,KAAM,CAAEoB,UAAU,MASjF,KAAKjC,EACD,OAAO,2BACA3B,GADP,IAEIiC,MAAOd,EAAoBnB,EAAMiC,MAAOhC,EAAOuC,OAAQ,KAAM,CAAEoB,UAAU,MASjF,KAAKhC,EACD,OAAO,2BACA5B,GADP,IAEIiC,MAAOhC,EAAOgC,QAGtB,KAAKJ,EACD,OAAO,2BACA7B,GADP,IAEIoC,YAAanC,EAAO0C,aAG5B,KAAKb,EACD,OAAO,2BACA9B,GADP,IAEImC,gBAAiBlC,EAAOiD,QAGhC,KAAKnB,EACD,OAAO,2BACA/B,GADP,IAEIqC,WAAYpC,EAAOoC,aAE3B,KAAKL,EACD,OAAO,2BACAhC,GADP,IAEIsC,oBAAqBrC,EAAOoC,WAAP,sBACXrC,EAAMsC,qBADK,CACgBrC,EAAOuC,SACxCxC,EAAMsC,oBAAoBlC,QAAO,SAAAvC,GAAE,OAAIA,IAAOoC,EAAOuC,YAGjE,QAAS,OAAOxC,K,wCC5ExB1D,EAAOC,QAAU,CAAC,eAAiB,sC,mBCAnCD,EAAOC,QAAU,CAAC,WAAa,4B,+BCD/B,kHAEMsH,EAFN,OAEiBC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,CACL,UAAW,wCAEfC,QAAS,kDAIArF,EAAW,CACpBmE,SADoB,SACXd,EAAUa,GACf,OAAOc,EAASM,IAAT,sBAA4BjC,EAA5B,iBAA6Ca,IAClDqB,MAAK,SAAArF,GACH,OAAOA,EAASC,SAIxBqE,aARoB,SAQP3E,GACT,OAAOmF,EAASQ,OAAT,iBAA0B3F,IAC/B0F,MAAK,SAAArF,GACH,OAAOA,EAASC,SAIxBwE,WAfoB,SAeT9E,GACP,OAAOmF,EAASS,KAAT,iBAAwB5F,GAAU,IAAI0F,MAAK,SAAArF,GAC9C,OAAOA,EAASC,SAIxBF,WArBoB,SAqBTJ,GAEP,OADA6F,QAAQC,IAAI,mBACLtF,EAAWJ,WAAWJ,KAIxBQ,EAAa,CACtBJ,WADsB,SACXJ,GACP,OAAOmF,EAASM,IAAT,kBAAwBzF,KAGnCS,UALsB,SAKZT,GACN,OAAOmF,EAASM,IAAT,yBAA+BzF,KAG1CU,aATsB,SASTnB,GACT,OAAO4F,EAASY,IAAT,iBAA+B,CAAExG,OAAQA,KAGpDsB,UAbsB,SAaZf,GACN,IAAMkG,EAAW,IAAIC,SAErB,OADAD,EAASE,IAAI,QAASpG,GACfqF,EAASY,IAAT,gBAA8BC,EAAU,CAC3CT,QAAS,CACL,eAAgB,0BAK5BrE,gBAvBsB,SAuBNF,GACZ,OAAOmE,EAASY,IAAT,UAAwB/E,KAM1BmF,EAAU,CACnBC,GADmB,WAEf,OAAOjB,EAASM,IAAI,UAAW,CAC3BH,iBAAiB,IAClBI,MAAK,SAAArF,GACJ,OAAOA,EAASC,SAIxB+F,MATmB,SASbC,EAAOC,GAA+B,IAArBC,EAAoB,wDACvC,OAAOrB,EAASS,KAAK,aAAc,CAAEU,QAAOC,WAAUC,gBAG1DC,OAbmB,WAcf,OAAOtB,EAASQ,OAAO,iB,4DCjF/B/H,EAAOC,QAAU,CAAC,IAAM,oBAAoB,OAAS,uBAAuB,KAAO,qBAAqB,UAAY,4B,4ECWrG6I,G,MAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlB,MAAK,YAAkD,IAA/CmB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,Q,+ECLRO,G,YAAeC,IAAMC,cAAc,OAQ1BF,ICiCAG,EArCA,SAAC7K,GAEZ,OACI,cAAC,EAAa8K,SAAd,UACK,SAACC,GAAD,OACG,sBAAK3K,UAAWC,IAAE2K,IAAlB,UACI,qBAAK5K,UAAWC,IAAE4K,KAAlB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiB9K,IAAE+K,OAA1C,uBAGJ,qBAAKhL,UAAWC,IAAE4K,KAAlB,SACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiB9K,IAAE+K,OAA1C,wBAGJ,qBAAKhL,UAAS,UAAKC,IAAE4K,KAAP,YAAe5K,IAAEgL,WAA/B,SACI,cAAC,IAAD,CAASH,GAAG,SAASC,gBAAiB9K,IAAE+K,OAAxC,0BAGJ,qBAAKhL,UAAWC,IAAE4K,KAAlB,SACI,cAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiB9K,IAAE+K,OAAvC,oBAGJ,qBAAKhL,UAAWC,IAAE4K,KAAlB,SACI,cAAC,IAAD,CAASC,GAAG,SAASC,gBAAiB9K,IAAE+K,OAAxC,qBAGJ,qBAAKhL,UAAWC,IAAE4K,KAAlB,SACI,cAAC,IAAD,CAASC,GAAG,YAAYC,gBAAiB9K,IAAE+K,OAA3C,+B,+BCdTE,EAfF,SAACtL,GACZ,OACE,yBAAQI,UAAWC,IAAEkL,OAArB,UACE,qBAAKjG,IAAI,sGAAsGkG,IAAI,MAEnH,qBAAKpL,UAAWC,IAAEoL,WAAlB,UAGkB,IAAjBzL,EAAM0L,OAAkB,wBAAQC,QAAS3L,EAAM4L,WAAvB,uBAAwD,cAAC,IAAD,CAASV,GAAG,SAAZ,2B,sCCVjFW,EAAgB,gCAChBC,EAAa,aAEfrJ,EAAe,CACfE,GAAI,KACJmH,MAAO,KACPD,MAAO,KACP6B,QAAQ,EACRK,WAAW,GAoBFC,EAAkB,SAACrJ,EAAImH,EAAOD,EAAO6B,GAAnB,MAA+B,CAAEzK,KAAM4K,EAAe/H,KAAM,CAAEnB,KAAImH,QAAOD,QAAO6B,YAClGK,EAAY,SAACA,GAAD,MAAgB,CAAE9K,KAAM6K,EAAYC,cAEhDE,EAAkB,yDAAM,WAAOxI,GAAP,uBAAAC,EAAA,sEAClBiG,IAAQC,KADU,OAED,KAD9B9F,EAD+B,QAEhBK,aAAmB,EACGL,EAAKA,KAA1BnB,EADiB,EACjBA,GAAImH,EADa,EACbA,MAAOD,EADM,EACNA,MACjBpG,EAASuI,EAAgBrJ,EAAImH,EAAOD,GAAO,IAC3CpG,EAASsI,GAAU,KALE,2CAAN,uDA6BhBG,EAjDG,WAAmC,IAAlCpH,EAAiC,uDAAzBrC,EAAcsC,EAAW,uCAChD,OAAQA,EAAO9D,MACX,KAAK4K,EACD,OAAO,2BACA/G,GACAC,EAAOjB,MAGlB,KAAKgI,EACD,OAAO,2BACAhH,GADP,IAEIiH,UAAWhH,EAAOgH,YAG9B,OAAOjH,GCtBLqH,E,4JACF,WACI,OAAO,cAAC,EAAD,eAAYC,KAAKpM,Y,GAFF2K,IAAM0B,WAarBC,eAPQ,SAACxH,GACpB,MAAO,CACH4G,OAAQ5G,EAAMH,SAAS+G,OACvB7B,MAAO/E,EAAMH,SAASkF,SAIW,CAAE+B,WDqCjB,yDAAM,WAAOnI,GAAP,SAAAC,EAAA,sEACXiG,IAAQM,SADG,OAEK,IAFL,OAEfnG,KAAKK,YACVV,EAASuI,EAAgB,KAAM,KAAM,MAAM,IAHvB,2CAAN,wDCrCXM,CAA0CH,G,yCCsCnDI,EAAqBD,aAPL,SAACxH,GACnB,MAAO,CACH4G,OAAQ5G,EAAMH,SAAS+G,OACvBK,UAAWjH,EAAMH,SAASoH,aAIkB,CAAES,UFZ7B,SAAC1C,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOvG,GAAP,eAAAC,EAAA,sEACrCiG,IAAQE,MAAMC,EAAOC,EAAUC,GADM,OAEjB,KADjClG,EADkD,QAErCA,KAAKK,WACVV,EAASwI,MACFnI,EAAKA,KAAKc,SAAS,GAC1BnB,EAASsI,GAAU,KALuB,2CAAjC,wDEYEO,EAvCT,SAACtM,GAKf,OAAIA,EAAM0L,OACC,cAAC,IAAD,CAAUR,GAAG,aAIpB,8BACI,cAAC,IAAD,CACIuB,SAXK,SAACC,GACd1M,EAAMwM,UAAUE,EAAE5C,MAAO4C,EAAE3C,SAAU2C,EAAE1C,aAW/B2C,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACJ,uBAAMH,SAAUG,EAAhB,UAEKjM,YAAW,QAAS,QAAS,QAASD,IAAOY,IAAU,MACvDX,YAAW,WAAY,WAAY,WAAYD,IAAOY,IAAU,YAChEX,YAAW,cAAe,KAAM,aAAcD,IAAO,KAAM,YAE5D,8BACKV,EAAM+L,UAAY,qBAAK3L,UAAWC,IAAEwM,WAAlB,+CAAmErL,IAE1F,sDAkBTsL,EAjDD,SAAC9M,GACX,OAAO,gCACH,uCACA,cAACuM,EAAD,QCVFQ,EAAc,cAEhBtK,EAAe,CACfuK,eAAe,G,gCCLfvK,EAAe,GAWJwK,EALQ,WAAmC,IAAlCnI,EAAiC,uDAAzBrC,EAE5B,OAAOqC,G,iBCEPoI,GAAWC,YAAgB,CAC3BC,iBAAkBvI,IAClBwI,iBAAkBvH,IAClBmH,eAAgBA,EAChBK,UAAW7E,IACX9D,SAAUuH,EACVqB,IFRsB,WAAiC,IAAhCzI,EAA+B,uDAAzBrC,EAAcsC,EAAW,uCAEtD,OAAOA,EAAO9D,MACV,KAAK8L,EACN,OAAO,2BACAjI,GADP,IAEIkI,eAAe,IAEnB,QACD,OAAOlI,MEIP0I,GAAmBC,OAAOC,sCAAwCC,IAClE5C,GAAQ6C,YAAYV,GAAUM,GAAiBK,YAAgBC,QAErEL,OAAO1C,MAAQA,GAEAA,UCbTgD,GAAmBpD,IAAMqD,MAAK,kBAAM,iCACpCC,GAAmBtD,IAAMqD,MAAK,kBAAM,iCACpCE,GAAOvD,IAAMqD,MAAK,kBAAM,iCACxBG,GAAQxD,IAAMqD,MAAK,kBAAM,iCACzBI,GAAWzD,IAAMqD,MAAK,kBAAM,iCAC5BK,GAAiB1D,IAAMqD,MAAK,kBAAM,iCAElCM,G,uKACJ,WACElC,KAAKpM,MAAMuO,kB,oBAGb,WACE,OAAKnC,KAAKpM,MAAMwO,YAKd,sBAAKpO,UAAU,cAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAQqO,QAASrC,KAAKpM,MAAM8E,QAC5B,qBAAK1E,UAAU,sBAAf,SACE,cAAC,WAAD,CAAUsO,SAAU,6CAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,oBAAoBhC,OAAQ,kBAAM,cAACoB,GAAD,OAC9C,cAAC,IAAD,CAAOY,KAAK,WAAWhC,OAAQ,kBAAM,cAACsB,GAAD,OACrC,cAAC,IAAD,CAAOU,KAAK,QAAQhC,OAAQ,kBAAM,cAACuB,GAAD,OAClC,cAAC,IAAD,CAAOS,KAAK,SAAShC,OAAQ,kBAAM,cAACwB,GAAD,OACnC,cAAC,IAAD,CAAOQ,KAAK,YAAYhC,OAAQ,kBAAM,cAACyB,GAAD,OACtC,cAAC,IAAD,CAAOO,KAAK,SAAShC,OAAQ,kBAAM,cAAC0B,GAAD,OACnC,cAAC,IAAD,CAAOM,KAAK,SAAShC,OAAQ,kBAAM,cAAC,EAAD,iBAhBpC,cAACtH,EAAA,EAAD,Q,GAPKsF,IAAM0B,WAsClBuC,GAAejB,YACnBkB,IACAvC,aARoB,SAACxH,GACrB,MAAO,CACL0J,YAAa1J,EAAMyI,IAAIP,iBAMA,CAAEuB,cHpCA,kBAAM,SAAC9K,GAEhC,IAAIqL,EAAUrL,EAASwI,KAEvB8C,QAAQC,IAAI,CAACF,IAAU5F,MAAK,WACxBzF,EAPgC,CAACxC,KAAM8L,WGoC1BY,CAGlBW,IAUYW,GARI,WACjB,OAAO,cAAC,IAAD,UACL,cAAC,IAAD,CAAUlE,MAAOA,GAAjB,SACE,cAAC6D,GAAD,SC5DNM,IAASvC,OACP,cAAC,GAAD,IACAwC,SAASC,eAAe,SAO1BlF,M","file":"static/js/main.c7bf4f5c.chunk.js","sourcesContent":["import { Field } from 'react-final-form';\r\nimport s from './FormsControl.module.css';\r\n\r\n/* export const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <textarea {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\n/* export const Input = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <input {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\nconst Element = (Tag) => {\r\n    const ElementForm = ({ input, meta, ...props }) => {\r\n        const hasError = meta.error && meta.touched\r\n        return (\r\n            <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n                <div >\r\n                    <Tag {...input} {...props} className={hasError && s.errorTextarea} />\r\n                </div>\r\n                {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return ElementForm\r\n}\r\n\r\nexport const Textarea = Element('textarea')\r\nexport const Input = Element('input');\r\n\r\nexport const createForm = (label, placeholder, name, component, validate, type) => {\r\n    return <div>\r\n        <label>{label}</label>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate} type={type} />\r\n    </div>\r\n}\r\n\r\n////Form for ProfileForm Componnet\r\nexport const profileDataForm = (label, placeholder, name, component, validate, type, initialValue) => {\r\n    return <div>\r\n        <label>{label}</label>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate} type={type} initialValue={initialValue} />\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorTextarea\":\"FormsControl_errorTextarea__1iGBH\",\"errorSpan\":\"FormsControl_errorSpan__tB717\"};","\r\nexport const required = (value) => value && value ? undefined : \"Required\";\r\n\r\nexport const maxValue = (max) => (value) => value && value.length > max ? `Should be less than ${max}` : undefined;\r\n\r\nexport const minValue = (min) => (value) =>\r\n    value && min >= value.length ? `Should be greater than ${min}` : undefined;\r\n\r\nexport const composeValidators = (...validators) => (value) =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsList\":\"FriendList_friendsList__311PT\",\"friendTitle\":\"FriendList_friendTitle__n9fqI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3rgin\",\"loginBlock\":\"Header_loginBlock__1wM7w\"};","import { profileAPI, usersAPI } from \"../API/api\";\r\n\r\nconst Add_Post = 'Add-Post';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst UPLOAD_PHOTO = 'UPLOAD_PHOTO';\r\nconst SAVE_PROFILE = 'SAVE_PROFILE';\r\nconst INVALID_URL = 'INVALID_URL';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, how are you?', likeCount: 15 },\r\n    { id: 2, message: 'It\\'s my first post', likeCount: 20 },\r\n  ],\r\n  userProfile: null,\r\n  status: '',\r\n  invalidUrl: null ///\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  debugger\r\n  switch (action.type) {\r\n    case Add_Post: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.postText,\r\n        likeCount: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        userProfile: action.userProfile\r\n      }\r\n    }\r\n\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    }\r\n\r\n    case UPLOAD_PHOTO: {\r\n      return {\r\n        ...state,\r\n        userProfile: { ...state.userProfile, photos: action.photo }\r\n      }\r\n    }\r\n\r\n    case SAVE_PROFILE: {\r\n      return {\r\n        ...state,\r\n        userProfile: action.profileData\r\n      }\r\n    }\r\n\r\n    case INVALID_URL: {\r\n      return {\r\n        ...state,\r\n        invalidUrl: action.invalidUrl\r\n      }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: Add_Post, postText });\r\nexport const setUserProfile = (userProfile) => ({ type: SET_USER_PROFILE, userProfile });\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const uploadPhotoSuccess = (photo) => ({ type: UPLOAD_PHOTO, photo });\r\nexport const saveProfileSucces = (profileData) => ({ type: SAVE_PROFILE, profileData });\r\nexport const invalidUrl = (invalidUrl) => ({ type: INVALID_URL, invalidUrl });\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setUserStatus(status));\r\n  }\r\n}\r\n\r\nexport const uploadPhoto = (photo) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(photo)\r\n  if (response.data.resultCode === 0) {\r\n    debugger\r\n    dispatch(uploadPhotoSuccess(response.data.data.photos));\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profileData) => async (dispatch, getState) => {\r\n  let response = await profileAPI.saveProfileData(profileData)\r\n  debugger\r\n  const userId = getState().authPage.id;\r\n  //let invalidUrl = getState().profileComponent.invalidUrl;\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(invalidUrl(''))\r\n    dispatch(getUserProfile(userId));\r\n  } else if (response.data.resultCode === 1) {\r\n    dispatch(invalidUrl(response.data.messages[0]))\r\n  }\r\n}\r\n\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/loading2.94e700e7.gif\";","import React from 'react';\r\nimport loadingGif from '../../assets/images/loading2.gif';\r\n\r\nconst Prelouder = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={loadingGif} style={{ width: 100 }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Prelouder","const Send_Message = 'Send-Message';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { name: 'Dimych', id: 1 },\r\n    { name: 'Andrey', id: 2 },\r\n    { name: 'Sveta', id: 3 },\r\n    { name: 'Sasha', id: 4 },\r\n    { name: 'Victor', id: 5 },\r\n    { name: 'Valera', id: 6 },\r\n  ],\r\n  message: [\r\n    { message: 'Hi', id: 1 },\r\n    { message: 'How is your React', id: 2 },\r\n    { message: 'Yo', id: 3 },\r\n    { message: 'Yo', id: 4 },\r\n    { message: 'Yo', id: 5 },\r\n  ]\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Send_Message:\r\n      let text = action.messageText;\r\n      return {\r\n        ...state,\r\n        newMessageText: '',\r\n        message: [...state.message, { message: text, id: 6 }]\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (messageText) => ({ type: Send_Message, messageText });\r\n\r\nexport default dialogReducer;","export const updateObjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\nreturn   items.map(u => {\r\n    if (u[objectPropName] === itemId) {\r\n        return { ...u, ...newObjectProps }\r\n    }\r\n    return u;\r\n})\r\n}","import { usersAPI } from \"../API/api\";\r\nimport { updateObjectInArray } from \"../utilits/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 19,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', { followed: true })\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', { followed: false })\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID] :\r\n                    state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const followSucces = (userID) => ({ type: FOLLOW, userID });\r\nexport const unfollowSucces = (userID) => ({ type: UNFOLLOW, userID });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, pageNumber });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({ type: FOLLOWING_IN_PROGRESS, isFetching, userID });\r\n\r\nexport const getUserThunk = (pageSize, currentPge) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(pageSize, currentPge)\r\n        dispatch(setCurrentPage(currentPge))\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.unfollowUser.bind(usersAPI), unfollowSucces, userID)\r\n        /*  dispatch(toggleFollowingProgress(true, userID));\r\n        let data = await usersAPI.unfollowUser(userID)\r\n             if (data.resultCode === 0) {\r\n                 dispatch(unfollowSucces(userID));\r\n             }\r\n             dispatch(toggleFollowingProgress(false, userID)) */\r\n    }\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.followUser.bind(usersAPI), followSucces, userID)\r\n        /*  dispatch(toggleFollowingProgress(true, userID));\r\n     let data = await usersAPI.followUser(userID)\r\n             if (data.resultCode === 0) {\r\n                 dispatch(followSucces(userID))\r\n             }\r\n             dispatch(toggleFollowingProgress(false, userID)); */\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, APImethod, actionCreator, userID) => {\r\n    dispatch(toggleFollowingProgress(true, userID));\r\n    let data = await APImethod(userID)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID));\r\n\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendProfiles\":\"FriendItems_friendProfiles__2cWre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorLogin\":\"Login_errorLogin__27rSO\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"d66327ed-6b77-485d-934e-ec9d8785c19c\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize, currentPge) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPge}`\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n        return instance.delete(`follow/${userId}`\r\n        ).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    followUser(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.log('obsolete method')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    },\r\n\r\n    savePhoto(photo) {\r\n        const formData = new FormData();\r\n        formData.set('image', photo);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    saveProfileData(profileData) {\r\n        return instance.put(`profile`, profileData)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me', {\r\n            withCredentials: true\r\n        }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post('auth/login', { email, password, rememberMe })\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2ikiR\",\"active\":\"Navbar_active__2jzW4\",\"item\":\"Navbar_item__2ziMd\",\"findUsers\":\"Navbar_findUsers__1MGLc\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\n\r\nconst StoreContext = React.createContext(null);\r\n\r\nexport const Provider = (props) => {\r\n    return <StoreContext.Provider value={props.store}>\r\n        {props.children}\r\n    </StoreContext.Provider>\r\n}\r\n\r\nexport default StoreContext;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\nimport FriendList from './FriendsList/FriendList';\r\nimport StoreContext from '../../storeContext';\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n        <StoreContext.Consumer>\r\n            {(store) => (\r\n                <nav className={s.nav}>\r\n                    <div className={s.item}>\r\n                        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/dialogs' activeClassName={s.active}>Messeges</NavLink>\r\n                    </div>\r\n\r\n                    <div className={`${s.item} ${s.findUsers}`}>\r\n                        <NavLink to='/users' activeClassName={s.active}>Find users</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                    </div>\r\n\r\n                </nav>\r\n            )\r\n            }\r\n        </StoreContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbNUo7Du0AiYeNKcBocbWzvDluUYkt6ABMSg&usqp=CAU\" alt='#' />\r\n\r\n      <div className={s.loginBlock}>\r\n     {/*  {props.isAuth === true ? props.login :  <NavLink to='/login'> Login </NavLink>} */}\r\n        \r\n      {props.isAuth === true ? <button onClick={props.logoutUser}>  Logout </button> : <NavLink to='/login'> Login </NavLink>  }\r\n        \r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/SET_USER_DATA';\r\nconst WRONG_AUTH = 'WRONG_AUTH';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    wrongAuth: false\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        case WRONG_AUTH:\r\n            return {\r\n                ...state,\r\n                wrongAuth: action.wrongAuth\r\n            }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const setUserAuthData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, data: { id, email, login, isAuth } });\r\nexport const wrongAuth = (wrongAuth) => ({ type: WRONG_AUTH, wrongAuth });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let data = await authAPI.me()\r\n            if (data.resultCode === 0) {\r\n                let { id, email, login } = data.data;\r\n                dispatch(setUserAuthData(id, email, login, true));\r\n                dispatch(wrongAuth(false));\r\n\r\n            }\r\n        \r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe)          \r\n            if (data.data.resultCode === 0) {\r\n                dispatch(getAuthUserData());\r\n            } else if (data.data.messages[0] === 'Enter valid Email' || 'Incorrect Email or Password') {\r\n                dispatch(wrongAuth(true));\r\n            }\r\n        \r\n}\r\n\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n    let data = await authAPI.logout()        \r\n        if (data.data.resultCode === 0) {\r\n            dispatch(setUserAuthData(null, null, null, false))\r\n        }  \r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapsStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        login: state.authPage.login\r\n    }\r\n}\r\n\r\nexport default connect(mapsStateToProps, { logoutUser })(HeaderContainer);","import React from 'react'\r\nimport { Form } from 'react-final-form'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { loginUser } from '../../redux/authReducer'\r\nimport { Input, createForm } from '../../Validate/FormsControl'\r\nimport { required } from '../../Validate/validator'\r\nimport s from '../Login/Login.module.css'\r\n\r\nconst Login = (props) => {\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginFormContainer />\r\n    </div>\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const onSubmit = (e) => {\r\n        props.loginUser(e.email, e.password, e.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to='/profile' />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form\r\n                onSubmit={onSubmit}\r\n                render={({ handleSubmit }) => (\r\n                    <form onSubmit={handleSubmit}>\r\n\r\n                        {createForm('Email', \"Email\", \"email\", Input, required, null)}\r\n                        {createForm('Password', \"Password\", \"password\", Input, required, 'password')}\r\n                        {createForm('Remember me', null, \"rememberMe\", Input, null, \"checkbox\")}\r\n\r\n                        <div>\r\n                            {props.wrongAuth ? <div className={s.errorLogin}> Incorect email or password </div> : undefined}\r\n                        </div>\r\n                        <button>Login</button>\r\n\r\n                    </form>\r\n                )\r\n                } />\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        wrongAuth: state.authPage.wrongAuth\r\n    }\r\n}\r\n\r\nconst LoginFormContainer = connect(mapStateToProps, { loginUser })(LoginForm);\r\n\r\nexport default Login","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED = 'INITIALIZED';\r\n\r\nlet initialState = {\r\n    isInitialized: false\r\n}\r\n\r\nexport const appReducer = (state=initialState, action) => {\r\n    \r\n    switch(action.type) {\r\n        case INITIALIZED: \r\n       return {\r\n           ...state,\r\n           isInitialized: true\r\n       }\r\n       default: \r\n      return state \r\n       \r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({type: INITIALIZED})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    \r\n    let promise = dispatch(getAuthUserData());\r\n    \r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializeSuccess()) \r\n     } )\r\n    \r\n}","let initialState = [\r\n   /*  { name: 'Andrew', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNVT7KXYQ8uEG3LVXleY_e5t--XmqCby2lFQ&usqp=CAU' },\r\n    { name: 'Sasha', ava: 'https://static.1tv.ru/uploads/photo/image/2/huge/4062_huge_876c41f50e.jpg' },\r\n    { name: 'Sveta', ava: 'https://n1s2.starhit.ru/6a/46/ae/6a46aeed947a183d67d1bc48211151bf/480x496_0_2bbde84177c9ff1c2299a26a0f69f69c@480x496_0xac120003_4430520541578509619.jpg' } */\r\n];\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n   \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport dialogReducer from \"./dialogReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { appReducer } from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profileComponent: profileReducer,\r\n    dialogsComponent: dialogReducer,\r\n    sidebarReducer: sidebarReducer, ////Pay attention to it\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    app: appReducer\r\n})\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/LogIn';\r\nimport React, { Suspense } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport Prelouder from './components/common/Prelouder';\r\nimport { Switch, withRouter } from 'react-router';\r\nimport { compose } from 'redux'\r\nimport store from './redux/redux-store';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst UsersContainer = React.lazy(() => import('./components/FindUsers/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Prelouder />\r\n    }\r\n\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar sidebar={this.props.state} />\r\n        <div className='app-wrapper-content'>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Switch>\r\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n              <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n              <Route path='/news' render={() => <News />} />\r\n              <Route path='/music' render={() => <Music />} />\r\n              <Route path='/settings' render={() => <Settings />} />\r\n              <Route path='/users' render={() => <UsersContainer />} />\r\n              <Route path='/login' render={() => <LoginPage />} />\r\n            </Switch>\r\n          </Suspense>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.isInitialized\r\n  }\r\n}\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))\r\n  (App)\r\n\r\nconst SamuraiApp = () => {\r\n  return <HashRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </HashRouter>\r\n}\r\n\r\nexport default SamuraiApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport SamuraiApp from './App';\r\n\r\nReactDOM.render(\r\n  <SamuraiApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}