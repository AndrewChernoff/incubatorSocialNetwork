{"version":3,"sources":["Validate/FormsControl.js","Validate/FormsControl.module.css","Validate/validator.js","components/Navbar/FriendsList/FriendList.module.css","components/Header/Header.module.css","redux/profileReducer.js","assets/images/loading2.gif","components/common/Prelouder.js","redux/dialogReducer.js","utilits/object-helpers.js","redux/usersReducer.js","components/Navbar/FriendsList/FriendItems.module.css","components/Login/Login.module.css","API/api.js","components/Navbar/Navbar.module.css","reportWebVitals.js","storeContext.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/authReducer.jsx","components/Header/HeaderContainer.jsx","components/Login/LogIn.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","App.js","index.js"],"names":["Element","Tag","input","meta","props","hasError","error","touched","className","s","formControl","errorTextarea","errorSpan","Textarea","Input","createForm","label","placeholder","name","component","validate","type","profileDataForm","initialValue","module","exports","required","value","undefined","maxValue","max","length","minValue","min","composeValidators","validators","reduce","validator","Add_Post","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","UPLOAD_PHOTO","SAVE_PROFILE","INVALID_URL","STATUS_ERROR","initialState","posts","id","message","likeCount","userProfile","status","invalidUrl","statusError","addPostActionCreator","postText","setUserProfile","setUserStatus","uploadPhotoSuccess","photo","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getUserStatus","profileAPI","getStatus","updateStatus","resultCode","setTimeout","setStatusError","errorStatus","uploadPhoto","savePhoto","photos","saveProfile","profileData","getState","saveProfileData","authPage","messages","profileReducer","state","action","newPost","newPostText","filter","p","postId","Prelouder","src","loadingGif","style","width","Send_Message","dialogs","sendMessageActionCreator","messageText","dialogReducer","text","newMessageText","updateObjectInArray","items","itemId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","followSucces","userID","unfollowSucces","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","getUserThunk","currentPge","getUsers","totalCount","count","unfollow","followUnfollowFlow","unfollowUser","bind","follow","followUser","APImethod","actionCreator","usersReducer","followed","instance","axios","create","withCredentials","headers","baseURL","get","then","delete","post","console","log","put","formData","FormData","set","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StoreContext","React","createContext","Navbar","Consumer","store","nav","item","to","activeClassName","active","findUsers","Header","header","alt","loginBlock","isAuth","onClick","logoutUser","SET_USER_DATA","WRONG_AUTH","CAPTCHA_SUCCESS","wrongAuth","setUserAuthData","getAuthUserData","captchaUrl","loginCaptcha","url","authReducer","HeaderContainer","this","Component","connect","LoginFormContainer","loginUser","onSubmit","e","render","handleSubmit","errorLogin","padding","maxWidth","Login","INITIALIZED","isInitialized","sidebarReducer","reducers","combineReducers","profileComponent","dialogsComponent","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleWare","ProfileContainer","lazy","DialogsContainer","News","Music","Settings","UsersContainer","App","initializeApp","initialized","sidebar","fallback","exact","path","alert","AppContainer","withRouter","promise","Promise","all","SamuraiApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.085b9764.chunk.js","sourcesContent":["import { Field } from 'react-final-form';\r\nimport s from './FormsControl.module.css';\r\n\r\n/* export const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <textarea {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\n/* export const Input = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <input {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\nconst Element = (Tag) => {\r\n    const ElementForm = ({ input, meta, ...props }) => {\r\n        const hasError = meta.error && meta.touched\r\n        return (\r\n            <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n                <div >\r\n                    <Tag {...input} {...props} className={hasError && s.errorTextarea} />\r\n                </div>\r\n                {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return ElementForm\r\n}\r\n\r\nexport const Textarea = Element('textarea')\r\nexport const Input = Element('input');\r\n\r\nexport const createForm = (label, placeholder, name, component, validate, type) => {\r\n    return <div>\r\n        <label>{label}</label>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate} type={type} />\r\n    </div>\r\n}\r\n\r\n////Form for ProfileForm Componnet\r\nexport const profileDataForm = (label, placeholder, name, component, validate, type, initialValue) => {\r\n    return <div>\r\n        <label>{label}</label>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate} type={type} initialValue={initialValue} />\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorTextarea\":\"FormsControl_errorTextarea__1iGBH\",\"errorSpan\":\"FormsControl_errorSpan__tB717\"};","\r\nexport const required = (value) => value && value ? undefined : \"Required\";\r\n\r\nexport const maxValue = (max) => (value) => value && value.length > max ? `Should be less than ${max}` : undefined;\r\n\r\nexport const minValue = (min) => (value) =>\r\n    value && min >= value.length ? `Should be greater than ${min}` : undefined;\r\n\r\nexport const composeValidators = (...validators) => (value) =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsList\":\"FriendList_friendsList__311PT\",\"friendTitle\":\"FriendList_friendTitle__n9fqI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3rgin\",\"loginBlock\":\"Header_loginBlock__1wM7w\"};","import { profileAPI, usersAPI } from \"../API/api\";\r\n\r\nconst Add_Post = 'Add-Post';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst UPLOAD_PHOTO = 'UPLOAD_PHOTO';\r\nconst SAVE_PROFILE = 'SAVE_PROFILE';\r\nconst INVALID_URL = 'INVALID_URL';\r\nconst STATUS_ERROR = 'STATUS_ERROR';////\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, how are you?', likeCount: 15 },\r\n    { id: 2, message: 'It\\'s my first post', likeCount: 20 },\r\n  ],\r\n  userProfile: null,\r\n  status: '',\r\n  invalidUrl: null,\r\n  statusError: false\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Add_Post: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.postText,\r\n        likeCount: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        userProfile: action.userProfile\r\n      }\r\n    }\r\n\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    }\r\n\r\n    case UPLOAD_PHOTO: {\r\n      return {\r\n        ...state,\r\n        userProfile: { ...state.userProfile, photos: action.photo }\r\n      }\r\n    }\r\n\r\n    case SAVE_PROFILE: {\r\n      return {\r\n        ...state,\r\n        userProfile: action.profileData\r\n      }\r\n    }\r\n\r\n    case INVALID_URL: {\r\n      return {\r\n        ...state,\r\n        invalidUrl: action.invalidUrl\r\n      }\r\n    }\r\n\r\n    case STATUS_ERROR: {\r\n      return {\r\n        ...state,\r\n        statusError: action.statusError\r\n      }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: Add_Post, postText });\r\nexport const setUserProfile = (userProfile) => ({ type: SET_USER_PROFILE, userProfile });\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const uploadPhotoSuccess = (photo) => ({ type: UPLOAD_PHOTO, photo });\r\nexport const saveProfileSucces = (profileData) => ({ type: SAVE_PROFILE, profileData });\r\nexport const invalidUrl = (invalidUrl) => ({ type: INVALID_URL, invalidUrl });\r\nexport const statusError = (statusError) => ({ type: STATUS_ERROR, statusError });///\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n  dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n  let response = await profileAPI.getStatus(userId)\r\n  dispatch(setUserStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserStatus(status));\r\n    }\r\n  } catch (error) {\r\n    debugger\r\n    setTimeout(() => {\r\n      dispatch(setStatusError(true))///thunk for modal window\r\n    }, 1000)\r\n\r\n    setTimeout(() => {\r\n      dispatch(setStatusError(false))///thunk for modal window\r\n    }, 5000)\r\n  }\r\n}\r\n\r\nexport const setStatusError = (errorStatus) => (dispatch) => {\r\n  dispatch(statusError(errorStatus)) /// thunk for modal window\r\n}\r\n\r\nexport const uploadPhoto = (photo) => async (dispatch) => {\r\n  let response = await profileAPI.savePhoto(photo)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(uploadPhotoSuccess(response.data.data.photos));\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profileData) => async (dispatch, getState) => {\r\n  let response = await profileAPI.saveProfileData(profileData)\r\n  const userId = getState().authPage.id;\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(invalidUrl(''))\r\n    dispatch(getUserProfile(userId));\r\n  } else if (response.data.resultCode === 1) {\r\n    dispatch(invalidUrl(response.data.messages[0]))\r\n  }\r\n}\r\n\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/loading2.94e700e7.gif\";","import React from 'react';\r\nimport loadingGif from '../../assets/images/loading2.gif';\r\n\r\nconst Prelouder = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={loadingGif} style={{ width: 100 }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Prelouder","const Send_Message = 'Send-Message';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { name: 'Dimych', id: 1 },\r\n    { name: 'Andrey', id: 2 },\r\n    { name: 'Sveta', id: 3 },\r\n    { name: 'Sasha', id: 4 },\r\n    { name: 'Victor', id: 5 },\r\n    { name: 'Valera', id: 6 },\r\n  ],\r\n  message: [\r\n    { message: 'Hi', id: 1 },\r\n    { message: 'How is your React', id: 2 },\r\n    { message: 'Yo', id: 3 },\r\n    { message: 'Yo', id: 4 },\r\n    { message: 'Yo', id: 5 },\r\n  ]\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Send_Message:\r\n      let text = action.messageText;\r\n      return {\r\n        ...state,\r\n        newMessageText: '',\r\n        message: [...state.message, { message: text, id: 6 }]\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (messageText) => ({ type: Send_Message, messageText });\r\n\r\nexport default dialogReducer;","export const updateObjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\nreturn   items.map(u => {\r\n    if (u[objectPropName] === itemId) {\r\n        return { ...u, ...newObjectProps }\r\n    }\r\n    return u;\r\n})\r\n}","import { usersAPI } from \"../API/api\";\r\nimport { updateObjectInArray } from \"../utilits/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 19,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', { followed: true })\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', { followed: false })\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID] :\r\n                    state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const followSucces = (userID) => ({ type: FOLLOW, userID });\r\nexport const unfollowSucces = (userID) => ({ type: UNFOLLOW, userID });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, pageNumber });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({ type: FOLLOWING_IN_PROGRESS, isFetching, userID });\r\n\r\nexport const getUserThunk = (pageSize, currentPge) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(pageSize, currentPge)\r\n        dispatch(setCurrentPage(currentPge))\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.unfollowUser.bind(usersAPI), unfollowSucces, userID)\r\n        /*  dispatch(toggleFollowingProgress(true, userID));\r\n        let data = await usersAPI.unfollowUser(userID)\r\n             if (data.resultCode === 0) {\r\n                 dispatch(unfollowSucces(userID));\r\n             }\r\n             dispatch(toggleFollowingProgress(false, userID)) */\r\n    }\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.followUser.bind(usersAPI), followSucces, userID)\r\n        /*  dispatch(toggleFollowingProgress(true, userID));\r\n     let data = await usersAPI.followUser(userID)\r\n             if (data.resultCode === 0) {\r\n                 dispatch(followSucces(userID))\r\n             }\r\n             dispatch(toggleFollowingProgress(false, userID)); */\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, APImethod, actionCreator, userID) => {\r\n    dispatch(toggleFollowingProgress(true, userID));\r\n    let data = await APImethod(userID)\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userID));\r\n\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendProfiles\":\"FriendItems_friendProfiles__2cWre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorLogin\":\"Login_errorLogin__27rSO\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"d66327ed-6b77-485d-934e-ec9d8785c19c\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize, currentPge) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPge}`\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n        return instance.delete(`follow/${userId}`\r\n        ).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    followUser(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.log('obsolete method')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    },\r\n\r\n    savePhoto(photo) {\r\n        const formData = new FormData();\r\n        formData.set('image', photo);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n\r\n    saveProfileData(profileData) {\r\n        return instance.put(`profile`, profileData)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me', {\r\n            withCredentials: true\r\n        }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post('auth/login', { email, password, rememberMe, captcha })\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get('security/get-captcha-url')\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2ikiR\",\"active\":\"Navbar_active__2jzW4\",\"item\":\"Navbar_item__2ziMd\",\"findUsers\":\"Navbar_findUsers__1MGLc\"};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\n\r\nconst StoreContext = React.createContext(null);\r\n\r\nexport const Provider = (props) => {\r\n    return <StoreContext.Provider value={props.store}>\r\n        {props.children}\r\n    </StoreContext.Provider>\r\n}\r\n\r\nexport default StoreContext;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\nimport FriendList from './FriendsList/FriendList';\r\nimport StoreContext from '../../storeContext';\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n        <StoreContext.Consumer>\r\n            {(store) => (\r\n                <nav className={s.nav}>\r\n                    <div className={s.item}>\r\n                        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/dialogs' activeClassName={s.active}>Messeges</NavLink>\r\n                    </div>\r\n\r\n                    <div className={`${s.item} ${s.findUsers}`}>\r\n                        <NavLink to='/users' activeClassName={s.active}>Find users</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                    </div>\r\n\r\n                </nav>\r\n            )\r\n            }\r\n        </StoreContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbNUo7Du0AiYeNKcBocbWzvDluUYkt6ABMSg&usqp=CAU\" alt='#' />\r\n\r\n      <div className={s.loginBlock}>\r\n     {/*  {props.isAuth === true ? props.login :  <NavLink to='/login'> Login </NavLink>} */}\r\n        \r\n      {props.isAuth === true ? <button onClick={props.logoutUser}>  Logout </button> : <NavLink to='/login'> Login </NavLink>  }\r\n        \r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/SET_USER_DATA';\r\nconst WRONG_AUTH = 'WRONG_AUTH';\r\nconst CAPTCHA_SUCCESS = 'CAPTCHA_SUCCESS';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    wrongAuth: false,\r\n    captcha: null\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        case WRONG_AUTH:\r\n            return {\r\n                ...state,\r\n                wrongAuth: action.wrongAuth\r\n            }\r\n\r\n        case CAPTCHA_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captcha: action.loginCaptcha\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport const setUserAuthData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, data: { id, email, login, isAuth } });\r\nexport const wrongAuth = (wrongAuth) => ({ type: WRONG_AUTH, wrongAuth });\r\nexport const captchaSuccess = (loginCaptcha) => ({ type: CAPTCHA_SUCCESS, loginCaptcha })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await authAPI.me()\r\n    if (data.resultCode === 0) {\r\n        let { id, email, login } = data.data;\r\n        dispatch(setUserAuthData(id, email, login, true));\r\n        dispatch(wrongAuth(false));\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha)\r\n    if (data.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else if (data.data.resultCode === 1) {\r\n        dispatch(wrongAuth(true));\r\n    } else if (data.data.resultCode === 10) {\r\n        dispatch(captchaUrl());\r\n    }\r\n}\r\n\r\nexport const captchaUrl = () => (dispatch) => {\r\n    securityAPI.getCaptcha().then(response => {\r\n        dispatch(captchaSuccess(response.data.url))\r\n    }\r\n    )\r\n}\r\n\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n    let data = await authAPI.logout()\r\n    if (data.data.resultCode === 0) {\r\n        dispatch(setUserAuthData(null, null, null, false))\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapsStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        login: state.authPage.login\r\n    }\r\n}\r\n\r\nexport default connect(mapsStateToProps, { logoutUser })(HeaderContainer);","import React from 'react'\r\nimport { Form } from 'react-final-form'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { loginUser } from '../../redux/authReducer'\r\nimport { Input, createForm } from '../../Validate/FormsControl'\r\nimport { required } from '../../Validate/validator'\r\nimport s from '../Login/Login.module.css'\r\n\r\nconst Login = (props) => {\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginFormContainer />\r\n    </div>\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const onSubmit = (e) => {\r\n        debugger\r\n        props.loginUser(e.email, e.password, e.rememberMe, e.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to='/profile' />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form\r\n                onSubmit={onSubmit}\r\n                render={({ handleSubmit }) => (\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div>\r\n                            {createForm('Email', \"Email\", \"email\", Input, required, null)}\r\n                            {createForm('Password', \"Password\", \"password\", Input, required, 'password')}\r\n                            {createForm('Remember me', null, \"rememberMe\", Input, null, \"checkbox\")}\r\n                        </div>\r\n\r\n                        <div>\r\n                            {props.wrongAuth ? <div className={s.errorLogin}> Incorect email or password </div> : undefined}\r\n                        </div>\r\n\r\n\r\n                        {props.captcha && <div style={{ padding: 20 }}>\r\n                            <img src={props.captcha} style={{ maxWidth: 250 }} alt='captcha' />\r\n                            {createForm(null, 'Symbols for login', \"captcha\", Input, null, \"text\")}\r\n                        </div>}\r\n\r\n                        <div >\r\n                            <button>Login</button>\r\n                        </div>\r\n                    </form>\r\n                )\r\n                } />\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        wrongAuth: state.authPage.wrongAuth,\r\n        captcha: state.authPage.captcha\r\n    }\r\n}\r\n\r\nconst LoginFormContainer = connect(mapStateToProps, { loginUser })(LoginForm);\r\n\r\nexport default Login","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED = 'INITIALIZED';\r\n\r\nlet initialState = {\r\n    isInitialized: false\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED:\r\n            return {\r\n                ...state,\r\n                isInitialized: true\r\n            }\r\n        default:\r\n            return state\r\n\r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({ type: INITIALIZED })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializeSuccess())\r\n    })\r\n\r\n}","let initialState = [\r\n   /*  { name: 'Andrew', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNVT7KXYQ8uEG3LVXleY_e5t--XmqCby2lFQ&usqp=CAU' },\r\n    { name: 'Sasha', ava: 'https://static.1tv.ru/uploads/photo/image/2/huge/4062_huge_876c41f50e.jpg' },\r\n    { name: 'Sveta', ava: 'https://n1s2.starhit.ru/6a/46/ae/6a46aeed947a183d67d1bc48211151bf/480x496_0_2bbde84177c9ff1c2299a26a0f69f69c@480x496_0xac120003_4430520541578509619.jpg' } */\r\n];\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n   \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport dialogReducer from \"./dialogReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { appReducer } from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profileComponent: profileReducer,\r\n    dialogsComponent: dialogReducer,\r\n    sidebarReducer: sidebarReducer, ////Pay attention to it\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    app: appReducer\r\n})\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/LogIn';\r\nimport React, { Suspense } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport Prelouder from './components/common/Prelouder';\r\nimport { Redirect, Switch, withRouter } from 'react-router';\r\nimport { compose } from 'redux'\r\nimport store from './redux/redux-store';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst UsersContainer = React.lazy(() => import('./components/FindUsers/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Prelouder />\r\n    }\r\n    debugger\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar sidebar={this.props.state} />\r\n        <div className='app-wrapper-content'>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Switch>\r\n              <Route exact path='/' render={() => <Redirect to='/profile' />} />\r\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n              <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n              <Route path='/news' render={() => <News />} />\r\n              <Route path='/music' render={() => <Music />} />\r\n              <Route path='/settings' render={() => <Settings />} />\r\n              <Route path='/users' render={() => <UsersContainer />} />\r\n              <Route path='/login' render={() => <LoginPage />} />\r\n              <Route path='/*' render={() => <div> 404 NOT FOUND</div>} />\r\n            </Switch>\r\n          </Suspense>\r\n          {this.props.statusError && alert('SOME ERROR OCCURED')}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.isInitialized,\r\n    statusError: state.profileComponent.statusError\r\n  }\r\n}\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))\r\n  (App)\r\n\r\nconst SamuraiApp = () => {\r\n  return <HashRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </HashRouter>\r\n}\r\n\r\nexport default SamuraiApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport SamuraiApp from './App';\r\n\r\nReactDOM.render(\r\n  <SamuraiApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}