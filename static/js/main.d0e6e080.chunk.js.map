{"version":3,"sources":["Validate/FormsControl.js","Validate/FormsControl.module.css","Validate/validator.js","components/Navbar/FriendsList/FriendList.module.css","components/Header/Header.module.css","redux/profileReducer.js","assets/images/loading2.gif","components/common/Prelouder.js","redux/dialogReducer.js","utilits/object-helpers.js","redux/usersReducer.js","components/Navbar/FriendsList/FriendItems.module.css","components/Login/Login.module.css","components/Navbar/Navbar.module.css","API/api.js","reportWebVitals.js","storeContext.js","components/Navbar/Navbar.jsx","components/Header/Header.jsx","redux/authReducer.jsx","components/Header/HeaderContainer.jsx","components/Login/LogIn.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","App.js","index.js"],"names":["Element","Tag","input","meta","props","hasError","error","touched","className","s","formControl","errorTextarea","errorSpan","Textarea","Input","createForm","label","placeholder","name","component","validate","type","module","exports","required","value","undefined","maxValue","max","length","minValue","min","composeValidators","validators","reduce","validator","Add_Post","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","initialState","posts","id","message","likeCount","userProfile","status","addPostActionCreator","postText","setUserProfile","setUserStatus","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getUserStatus","profileAPI","getStatus","updateStatus","resultCode","profileReducer","state","action","newPost","newPostText","filter","p","postId","Prelouder","src","loadingGif","style","width","Send_Message","dialogs","sendMessageActionCreator","messageText","dialogReducer","text","newMessageText","updateObjectInArray","items","itemId","objectPropName","newObjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","pageSize","totalUsersCount","currentPage","isFetching","followingInProgress","fake","followSucces","userID","unfollowSucces","setCurrentPage","pageNumber","toggleIsFetching","toggleFollowingProgress","getUserThunk","currentPge","getUsers","totalCount","count","unfollow","followUnfollowFlow","unfollowUser","bind","follow","followUser","APImethod","actionCreator","usersReducer","followed","instance","axios","create","withCredentials","headers","baseURL","get","then","delete","post","console","log","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StoreContext","React","createContext","Navbar","Consumer","store","nav","item","to","activeClassName","active","findUsers","Header","header","alt","loginBlock","isAuth","onClick","logoutUser","SET_USER_DATA","WRONG_AUTH","wrongAuth","setUserAuthData","getAuthUserData","authReducer","HeaderContainer","this","Component","connect","authPage","LoginFormContainer","loginUser","messages","onSubmit","e","render","handleSubmit","errorLogin","Login","INITIALIZED","isInitialized","sidebarReducer","reducers","combineReducers","profileComponent","dialogsComponent","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleWare","_store_","ProfileContainer","lazy","DialogsContainer","News","Music","Settings","UsersContainer","App","initializeApp","initialized","sidebar","fallback","path","AppContainer","withRouter","promise","Promise","all","SamuraiApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d0e6e080.chunk.js","sourcesContent":["import { Field } from 'react-final-form';\r\nimport s from './FormsControl.module.css';\r\n\r\n/* export const Textarea = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <textarea {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\n/* export const Input = ({ input, meta, ...props }) => {\r\n    const hasError =  meta.error && meta.touched\r\n    return (\r\n        <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n            <div >\r\n                <input {...input} {...props} className={s.errorTextarea}/>\r\n            </div>\r\n            {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n        </div>\r\n    )\r\n} */\r\n\r\nconst Element = (Tag) => {\r\n    const ElementForm = ({ input, meta, ...props }) => {\r\n        const hasError = meta.error && meta.touched\r\n        return (\r\n            <div className={s.formControl + '' + (hasError ? s.error : '')}>\r\n                <div >\r\n                    <Tag {...input} {...props} className={hasError && s.errorTextarea} />\r\n                </div>\r\n                {hasError && <span className={s.errorSpan}>{meta.error}</span>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return ElementForm\r\n}\r\n\r\nexport const Textarea = Element('textarea')\r\nexport const Input = Element('input');\r\n\r\nexport const createForm = (label, placeholder, name, component, validate, type) => {\r\n    return <div>\r\n        <label>{label}</label>\r\n        <Field placeholder={placeholder} name={name} component={component} validate={validate} type={type} />\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorTextarea\":\"FormsControl_errorTextarea__1iGBH\",\"errorSpan\":\"FormsControl_errorSpan__tB717\"};","\r\nexport const required = (value) => value && value ? undefined : \"Required\";\r\n\r\nexport const maxValue = (max) => (value) => value && value.length > max ? `Should be less than ${max}` : undefined;\r\n\r\nexport const minValue = (min) => (value) =>\r\n    value && min >= value.length ? `Should be greater than ${min}` : undefined;\r\n\r\nexport const composeValidators = (...validators) => (value) =>\r\n    validators.reduce((error, validator) => error || validator(value), undefined);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsList\":\"FriendList_friendsList__311PT\",\"friendTitle\":\"FriendList_friendTitle__n9fqI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3rgin\",\"loginBlock\":\"Header_loginBlock__1wM7w\"};","import { profileAPI, usersAPI } from \"../API/api\";\r\n\r\nconst Add_Post = 'Add-Post';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS ';\r\nconst DELETE_POST = 'DELETE_POST ';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, how are you?', likeCount: 15 },\r\n    { id: 2, message: 'It\\'s my first post', likeCount: 20 },\r\n  ], \r\n  userProfile: null,\r\n  status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Add_Post: {\r\n      let newPost = {\r\n        id: 3,\r\n        message: action.postText,\r\n        likeCount: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n        newPostText: ''\r\n      }\r\n    }\r\n\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        userProfile: action.userProfile\r\n      }\r\n    }\r\n\r\n    case SET_USER_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id != action.postId)\r\n      }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\n\r\nexport const addPostActionCreator = (postText) => ({ type: Add_Post, postText });\r\nexport const setUserProfile = (userProfile) => ({ type: SET_USER_PROFILE, userProfile });\r\nexport const setUserStatus = (status) => ({ type: SET_USER_STATUS, status });\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\n\r\nexport const getUserProfile = (userId) => async(dispatch) => {\r\n  let response = await usersAPI.getProfile(userId)\r\n      dispatch(setUserProfile(response.data)); \r\n}\r\n\r\nexport const getUserStatus = (userId) => async(dispatch) => {\r\n let response = await profileAPI.getStatus(userId)\r\n      dispatch(setUserStatus(response.data));   \r\n}\r\n\r\nexport const updateStatus = (status) => async(dispatch) => {\r\n  let response = await profileAPI.updateStatus(status)\r\n      if (response.data.resultCode === 0) {        \r\n        dispatch(setUserStatus(status));\r\n      }    \r\n}\r\n\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/loading2.94e700e7.gif\";","import React from 'react';\r\nimport loadingGif from '../../assets/images/loading2.gif';\r\n\r\nconst Prelouder = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={loadingGif} style={{ width: 100 }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Prelouder","const Send_Message = 'Send-Message';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { name: 'Dimych', id: 1 },\r\n    { name: 'Andrey', id: 2 },\r\n    { name: 'Sveta', id: 3 },\r\n    { name: 'Sasha', id: 4 },\r\n    { name: 'Victor', id: 5 },\r\n    { name: 'Valera', id: 6 },\r\n  ],\r\n  message: [\r\n    { message: 'Hi', id: 1 },\r\n    { message: 'How is your React', id: 2 },\r\n    { message: 'Yo', id: 3 },\r\n    { message: 'Yo', id: 4 },\r\n    { message: 'Yo', id: 5 },\r\n  ]\r\n}\r\n\r\nconst dialogReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case Send_Message:\r\n      let text = action.messageText;\r\n      return {\r\n        ...state,\r\n        newMessageText: '',\r\n        message: [...state.message, { message: text, id: 6 }]\r\n      };\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport const sendMessageActionCreator = (messageText) => ({ type: Send_Message, messageText });\r\n\r\nexport default dialogReducer;","export const updateObjectInArray = (items, itemId, objectPropName, newObjectProps) => {\r\nreturn   items.map(u => {\r\n    if (u[objectPropName] === itemId) {\r\n        return { ...u, ...newObjectProps }\r\n    }\r\n    return u;\r\n})\r\n}","import { usersAPI } from \"../API/api\";\r\nimport { updateObjectInArray } from \"../utilits/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 19,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    fake: 10\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: true }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\r\n                /* state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return { ...u, followed: false }\r\n                    }\r\n                    return u;\r\n                }) */\r\n            }\r\n\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case FOLLOWING_IN_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userID] :\r\n                    state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const followSucces = (userID) => ({ type: FOLLOW, userID });\r\nexport const unfollowSucces = (userID) => ({ type: UNFOLLOW, userID });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const setCurrentPage = (pageNumber) => ({ type: SET_CURRENT_PAGE, pageNumber });\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport const toggleFollowingProgress = (isFetching, userID) => ({ type: FOLLOWING_IN_PROGRESS, isFetching, userID });\r\n\r\nexport const getUserThunk = (pageSize, currentPge) => {\r\n    return async(dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.getUsers(pageSize, currentPge)\r\n                dispatch(setCurrentPage(currentPge))\r\n                dispatch(toggleIsFetching(false));\r\n                dispatch(setUsers(data.items));\r\n                dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const unfollow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.unfollowUser.bind(usersAPI), unfollowSucces, userID)\r\n       /*  dispatch(toggleFollowingProgress(true, userID));\r\n       let data = await usersAPI.unfollowUser(userID)\r\n            if (data.resultCode === 0) {\r\n                dispatch(unfollowSucces(userID));\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userID)) */\r\n    }\r\n}\r\n\r\nexport const follow = (userID) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, usersAPI.followUser.bind(usersAPI), followSucces, userID)\r\n       /*  dispatch(toggleFollowingProgress(true, userID));\r\n    let data = await usersAPI.followUser(userID)\r\n            if (data.resultCode === 0) {\r\n                dispatch(followSucces(userID))\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userID)); */\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async(dispatch, APImethod, actionCreator, userID) => {\r\n        dispatch(toggleFollowingProgress(true, userID));\r\n    let data = await APImethod(userID)\r\n            if (data.resultCode === 0) {\r\n                dispatch(actionCreator(userID))\r\n            }\r\n            dispatch(toggleFollowingProgress(false, userID));\r\n    \r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendProfiles\":\"FriendItems_friendProfiles__2cWre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorLogin\":\"Login_errorLogin__27rSO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2ikiR\",\"active\":\"Navbar_active__2jzW4\",\"item\":\"Navbar_item__2ziMd\",\"findUsers\":\"Navbar_findUsers__1MGLc\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"d66327ed-6b77-485d-934e-ec9d8785c19c\"\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageSize, currentPge) {\r\n        return instance.get(`users?count=${pageSize}&page=${currentPge}`\r\n        ).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n        return instance.delete(`follow/${userId}`\r\n        ).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    followUser(userId) {\r\n        return instance.post(`follow/${userId}`, {}).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n\r\n    getProfile(userId) {\r\n        console.log('obsolete method')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    }\r\n}\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me', {\r\n            withCredentials: true\r\n        }).then(response => {\r\n            return response.data;\r\n        })\r\n    },\r\n\r\n    login(email, password, rememberMe=false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    \r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\n\r\nconst StoreContext = React.createContext(null);\r\n\r\nexport const Provider = (props) => {\r\n    return <StoreContext.Provider value={props.store}>\r\n        {props.children}\r\n    </StoreContext.Provider>\r\n}\r\n\r\nexport default StoreContext;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\nimport FriendList from './FriendsList/FriendList';\r\nimport StoreContext from '../../storeContext';\r\n\r\nconst Navbar = (props) => {\r\n\r\n    return (\r\n        <StoreContext.Consumer>\r\n            {(store) => (\r\n                <nav className={s.nav}>\r\n                    <div className={s.item}>\r\n                        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/dialogs' activeClassName={s.active}>Messeges</NavLink>\r\n                    </div>\r\n\r\n                    <div className={`${s.item} ${s.findUsers}`}>\r\n                        <NavLink to='/users' activeClassName={s.active}>Find users</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n                    </div>\r\n\r\n                    <div className={s.item}>\r\n                        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n                    </div>\r\n\r\n                </nav>\r\n            )\r\n            }\r\n        </StoreContext.Consumer>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nlet Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbNUo7Du0AiYeNKcBocbWzvDluUYkt6ABMSg&usqp=CAU\" alt='#' />\r\n\r\n      <div className={s.loginBlock}>\r\n     {/*  {props.isAuth === true ? props.login :  <NavLink to='/login'> Login </NavLink>} */}\r\n        \r\n      {props.isAuth === true ? <button onClick={props.logoutUser}>  Logout </button> : <NavLink to='/login'> Login </NavLink>  }\r\n        \r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../API/api\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/SET_USER_DATA';\r\nconst WRONG_AUTH = 'WRONG_AUTH';\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    wrongAuth: false\r\n}\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        case WRONG_AUTH:\r\n            return {\r\n                ...state,\r\n                wrongAuth: action.wrongAuth\r\n            }\r\n    }\r\n    return state;\r\n}\r\n\r\nexport const setUserAuthData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, data: { id, email, login, isAuth } });\r\nexport const wrongAuth = (wrongAuth) => ({ type: WRONG_AUTH, wrongAuth });\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let data = await authAPI.me()\r\n            if (data.resultCode === 0) {\r\n                let { id, email, login } = data.data;\r\n                dispatch(setUserAuthData(id, email, login, true));\r\n                dispatch(wrongAuth(false));\r\n\r\n            }\r\n        \r\n}\r\n\r\nexport const loginUser = (email, password, rememberMe) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe)          \r\n            if (data.data.resultCode === 0) {\r\n                dispatch(getAuthUserData());\r\n            } else if (data.data.messages[0] === 'Enter valid Email' || 'Incorrect Email or Password') {\r\n                dispatch(wrongAuth(true));\r\n            }\r\n        \r\n}\r\n\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n    let data = await authAPI.logout()        \r\n        if (data.data.resultCode === 0) {\r\n            dispatch(setUserAuthData(null, null, null, false))\r\n        }  \r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapsStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        login: state.authPage.login\r\n    }\r\n}\r\n\r\nexport default connect(mapsStateToProps, { logoutUser })(HeaderContainer);","import React from 'react'\r\nimport { Form, Field } from 'react-final-form'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router'\r\nimport { loginUser } from '../../redux/authReducer'\r\nimport { Input, createForm } from '../../Validate/FormsControl'\r\nimport { required } from '../../Validate/validator'\r\nimport s from '../Login/Login.module.css'\r\n\r\nconst Login = (props) => {\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginFormContainer />\r\n    </div>\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const onSubmit = (e) => {\r\n        props.loginUser(e.email, e.password, e.rememberMe);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to='/profile' />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form\r\n                onSubmit={onSubmit}\r\n                render={({ handleSubmit }) => (\r\n                    <form onSubmit={handleSubmit}>\r\n\r\n                        {/* <div>\r\n                            <label>Email</label>\r\n                            <Field placeholder={\"Email\"} name={\"email\"} component={Input} validate={required} />\r\n                        </div>  */}\r\n                        {/* <div>\r\n                            <label>Password</label>\r\n                            <Field placeholder={\"Password\"} name={\"password\"} type={'password'} component={Input} validate={required} />\r\n                        </div>*/}\r\n\r\n                        {createForm('Email', \"Email\", \"email\", Input, required, null)}\r\n                        {createForm('Password', \"Password\", \"password\", Input, required, 'password')}\r\n                        {createForm('Remember me', null, \"rememberMe\", Input, null, \"checkbox\")}\r\n\r\n\r\n\r\n\r\n\r\n                        <div>\r\n                            {props.wrongAuth ? <div className={s.errorLogin}> Incorect email or password </div> : undefined}\r\n                        </div>\r\n                        <button>Login</button>\r\n\r\n                    </form>\r\n                )\r\n                } />\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth,\r\n        wrongAuth: state.authPage.wrongAuth\r\n    }\r\n}\r\n\r\nconst LoginFormContainer = connect(mapStateToProps, { loginUser })(LoginForm);\r\n\r\nexport default Login","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED = 'INITIALIZED';\r\n\r\nlet initialState = {\r\n    isInitialized: false\r\n}\r\n\r\nexport const appReducer = (state=initialState, action) => {\r\n    \r\n    switch(action.type) {\r\n        case INITIALIZED: \r\n       return {\r\n           ...state,\r\n           isInitialized: true\r\n       }\r\n       default: \r\n      return state \r\n       \r\n    }\r\n}\r\n\r\nexport const initializeSuccess = () => ({type: INITIALIZED})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    \r\n    let promise = dispatch(getAuthUserData());\r\n    \r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializeSuccess()) \r\n     } )\r\n    \r\n}","let initialState = [\r\n   /*  { name: 'Andrew', ava: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNVT7KXYQ8uEG3LVXleY_e5t--XmqCby2lFQ&usqp=CAU' },\r\n    { name: 'Sasha', ava: 'https://static.1tv.ru/uploads/photo/image/2/huge/4062_huge_876c41f50e.jpg' },\r\n    { name: 'Sveta', ava: 'https://n1s2.starhit.ru/6a/46/ae/6a46aeed947a183d67d1bc48211151bf/480x496_0_2bbde84177c9ff1c2299a26a0f69f69c@480x496_0xac120003_4430520541578509619.jpg' } */\r\n];\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n   \r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport dialogReducer from \"./dialogReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from './authReducer';\r\nimport thunkMiddleWare from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport { appReducer } from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profileComponent: profileReducer,\r\n    dialogsComponent: dialogReducer,\r\n    sidebarReducer: sidebarReducer, ////Pay attention to it\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    app: appReducer\r\n})\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleWare));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nwindow._store_ = store;\r\n\r\nexport default store;","import './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport LoginPage from './components/Login/LogIn';\r\nimport React, { Suspense } from 'react';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport Prelouder from './components/common/Prelouder';\r\nimport { Switch, withRouter } from 'react-router';\r\nimport { compose } from 'redux'\r\nimport store from './redux/redux-store';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst News = React.lazy(() => import('./components/News/News'));\r\nconst Music = React.lazy(() => import('./components/Music/Music'));\r\nconst Settings = React.lazy(() => import('./components/Settings/Settings'));\r\nconst UsersContainer = React.lazy(() => import('./components/FindUsers/UsersContainer'));\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Prelouder />\r\n    }\r\n\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar sidebar={this.props.state} />\r\n        <div className='app-wrapper-content'>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Switch>\r\n              <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n              <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n              <Route path='/news' render={() => <News />} />\r\n              <Route path='/music' render={() => <Music />} />\r\n              <Route path='/settings' render={() => <Settings />} />\r\n              <Route path='/users' render={() => <UsersContainer />} />\r\n              <Route path='/login' render={() => <LoginPage />} />\r\n            </Switch>\r\n          </Suspense>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.isInitialized\r\n  }\r\n}\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))\r\n  (App)\r\n\r\nconst SamuraiApp = () => {\r\n  return <BrowserRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}\r\n\r\nexport default SamuraiApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport SamuraiApp from './App';\r\n\r\nReactDOM.render(\r\n  <SamuraiApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();"],"sourceRoot":""}