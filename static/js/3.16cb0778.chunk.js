(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{100:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n(38);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],s=!0,i=!1,o=void 0;try{for(var r,c=t[Symbol.iterator]();!(s=(r=c.next()).done)&&(n.push(r.value),!e||n.length!==e);s=!0);}catch(a){i=!0,o=a}finally{try{s||null==c.return||c.return()}finally{if(i)throw o}}return n}}(t,e)||Object(s.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},102:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3iVQO",formInfo:"ProfileInfo_formInfo__1bcfw",infoDescription:"ProfileInfo_infoDescription__3KOwk",contactsDescription:"ProfileInfo_contactsDescription__3L-mH",photo:"ProfileInfo_photo__2q9qO",profileContacts:"ProfileInfo_profileContacts__2LPzT",invalidUrl:"ProfileInfo_invalidUrl__15DKk",profileContactsTitle:"ProfileInfo_profileContactsTitle__3uwc0",personal:"ProfileInfo_personal__2UO2O",buttons:"ProfileInfo_buttons__1clOf"}},104:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2MoqA",item:"MyPosts_item__3QvZm",post:"MyPosts_post__1_2F0"}},105:function(t,e,n){t.exports={item:"Post_item__bU7IH",img:"Post_img__dehKL"}},106:function(t,e,n){},113:function(t,e,n){"use strict";n.r(e);var s=n(2),i=n(24),o=n(25),r=n(27),c=n(26),a=n(0),l=n.n(a),u=n(100),d=n(37),j=n(102),b=n.n(j),p=n(40),f=n(1),O=function(t){var e=Object(a.useState)(!1),n=Object(u.a)(e,2),s=n[0],i=n[1],o=Object(a.useState)(t.status),r=Object(u.a)(o,2),c=r[0],l=r[1];Object(a.useEffect)((function(){l(t.status)}),[t.status]);return Object(f.jsxs)("div",{children:["Status: ",!1===s&&Object(f.jsx)("span",{onDoubleClick:function(){i(!0)},children:t.status||"---------"}),!0===s&&Object(f.jsx)("span",{children:Object(f.jsx)("input",{autoFocus:!0,onChange:function(t){l(t.currentTarget.value)},onBlur:function(){i(!1),t.updateStatus(c)},value:c})})]})},h=n(20),m=n(18),v=function(t){var e=t.editModeFalse,n=t.profile,s=t.cancelSending;return Object(f.jsx)("div",{children:Object(f.jsx)(h.b,{onSubmit:e,render:function(t){var e=t.handleSubmit;return Object(f.jsxs)("form",{onSubmit:e,children:[Object(f.jsxs)("div",{className:b.a.formInfo,children:[Object(f.jsx)("div",{className:b.a.infoDescription,children:"Personal information"}),Object(f.jsxs)("div",{children:[" Full name: ",Object(m.d)(null,"Full name","fullName",m.a,null,"text",n.fullName)," "]}),Object(f.jsxs)("div",{children:[" About me: ",Object(m.d)(null,"About me","aboutMe",m.b,null,"text",n.aboutMe)," "]}),Object(f.jsxs)("div",{children:[" My skills: ",Object(m.d)(null,"My skills","lookingForAJobDescription",m.b,null,"text",n.lookingForAJobDescription)," "]}),Object(f.jsxs)("div",{children:[" Looking for a job: ",Object(m.d)(null,null,"lookingForAJob",m.a,null,"checkbox")," "]}),Object(f.jsx)("div",{className:b.a.contactsDescription,children:" Contacts:"}),Object(f.jsxs)("div",{children:[" ",Object.keys(n.contacts).map((function(t){return Object(f.jsxs)("div",{className:b.a.contact,children:[" ",Object(f.jsxs)("span",{className:b.a.contactKey,children:[" ",t," "]}),": ",Object(m.d)(null,t,"contacts."+t,m.a,null,"text",n.contacts[t])," "]})}))," "]})]}),Object(f.jsxs)("div",{className:b.a.buttons,children:[Object(f.jsx)("button",{children:"Send"}),Object(f.jsx)("button",{onClick:s,children:"Cancel"})]})]})}})})},x=["profile","status","updateStatus","isOwner","saveProfile","invalidUrl"],_=function(t){var e=t.profile,n=t.isOwner,s=t.editModeTrue;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:b.a.personal,children:"Personal information"}),Object(f.jsxs)("div",{children:[" Full name: ",e.fullName," "]}),Object(f.jsxs)("div",{children:[" About me: ",e.aboutMe," "]}),Object(f.jsxs)("div",{children:[" My skills: ",e.lookingForAJobDescription," "]}),Object(f.jsxs)("div",{children:[" Looking for a job: ",e.lookingForAJob?"yes":"no"," "]}),Object(f.jsx)(P,{profile:e}),n&&Object(f.jsx)("button",{onClick:s,children:"Edit"})]})},P=function(t){var e=t.profile;return Object(f.jsxs)("div",{className:b.a.profileContacts,children:[Object(f.jsx)("div",{className:b.a.profileContactsTitle,children:" Contacts: "}),Object.keys(e.contacts).map((function(t){return Object(f.jsxs)("div",{className:b.a.contact,children:[" ",t,": ",e.contacts[t]," "]},t.id)}))]})},g=function(t){var e=t.profile,n=t.status,s=t.updateStatus,i=t.isOwner,o=t.saveProfile,r=t.invalidUrl,c=Object(d.a)(t,x),l=Object(a.useState)(!1),j=Object(u.a)(l,2),h=j[0],m=j[1];if(!e)return Object(f.jsx)(p.a,{});return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:e.photos.large,className:b.a.photo,alt:"user ava"})}),Object(f.jsx)("div",{children:i&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&c.uploadPhoto(t.target.files[0])}})}),Object(f.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(f.jsx)(O,{status:n,updateStatus:s}),h?Object(f.jsx)(v,{profile:e,editModeFalse:function(t){o(t),m(!1)},cancelSending:function(){m(!1)}}):Object(f.jsx)(_,{profile:e,isOwner:i,editModeTrue:function(){m(!0)}})]}),Object(f.jsx)("div",{children:r?Object(f.jsxs)("div",{className:b.a.invalidUrl,children:[" ",r," "]}):void 0})]})},y=n(16),k=n(39),S=n(19),C=n(31),N=n(104),U=n.n(N),I=n(105),A=n.n(I),w=function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:A.a.item,children:[Object(f.jsx)("img",{className:A.a.img,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbNslP7-_P7jz5MrT5yhW14y_IzBDbZZT0ag&usqp=CAU",alt:"ava"}),t.message,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["like ",t.likeCount]})})]})})},M=l.a.memo((function(t){var e=Object(S.a)(t.post).reverse().map((function(t){return Object(f.jsx)(w,{message:t.message,likeCount:t.likeCount},t.id)}));return Object(f.jsxs)("div",{className:U.a.postsBlock,children:[Object(f.jsx)(D,{onAddPost:function(e){var n=e;t.addPost(n)}}),Object(f.jsx)("div",{className:U.a.item,children:"New post"}),Object(f.jsx)("div",{className:U.a.post,children:e})]})})),D=function(t){var e=Object(C.b)(20);return Object(f.jsx)("div",{children:Object(f.jsx)(h.b,{onSubmit:function(e){t.onAddPost(e.text),e.text=""},render:function(t){var n=t.handleSubmit;return Object(f.jsxs)("form",{onSubmit:n,children:[Object(f.jsx)(h.a,{name:"text",component:m.b,placeholder:"Create post",validate:Object(C.a)(C.d,e,Object(C.c)(1))}),Object(f.jsx)("button",{children:" Add post"})]})}})})},F=M,T=Object(y.b)((function(t){return{post:t.profileComponent.posts,newPostText:t.profileComponent.newPostText}}),(function(t){return{addPost:function(e){t(Object(k.a)(e))}}}))(F),B=n(106),J=n.n(B),q=function(t){return Object(f.jsxs)("div",{className:J.a.profile,children:[Object(f.jsx)(g,Object(s.a)(Object(s.a)({profile:t.profile,status:t.status,updateStatus:t.updateStatus,isOwner:t.isOwner,saveProfile:t.saveProfile},t),{},{invalidUrl:t.invalidUrl})),Object(f.jsx)(T,{})]})},z=n(5),L=n(17),K=n(99),E=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"updateProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.autherizedUser),t||(t=this.props.history.push("/login")),this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.updateProfile()}},{key:"render",value:function(){return Object(f.jsx)(q,Object(s.a)(Object(s.a)({},this.props),{},{saveProfile:this.props.saveProfile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,invalidUrl:this.props.invalidUrl}))}}]),n}(l.a.Component);e.default=Object(L.c)(Object(y.b)((function(t){return{profile:t.profileComponent.userProfile,status:t.profileComponent.status,autherizedUser:t.authPage.id,invalidUrl:t.profileComponent.invalidUrl}}),{setUserProfile:k.f,getUserProfile:k.c,getUserStatus:k.d,updateStatus:k.g,uploadPhoto:k.h,saveProfile:k.e}),z.g,K.a)(E)},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var s=n(2),i=n(24),o=n(25),r=n(27),c=n(26),a=n(0),l=n.n(a),u=n(16),d=n(5),j=n(1),b=function(t){return{isAuth:t.authPage.isAuth}},p=function(t){var e=function(e){Object(r.a)(a,e);var n=Object(c.a)(a);function a(){return Object(i.a)(this,a),n.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(t,Object(s.a)({},this.props)):Object(j.jsx)(d.a,{to:"/login"})}}]),a}(l.a.Component);return Object(u.b)(b)(e)}}}]);
//# sourceMappingURL=3.16cb0778.chunk.js.map