{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.jsx","components/ProfileInfo/ProfileForm/ProfileForm.jsx","components/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/Post/MyPosts.jsx","components/Profile/MyPosts/Post/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","HOC/withAuthContainer.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onChange","e","currentTarget","onBlur","updateStatus","ProfileForm","editModeFalse","profile","onSubmit","render","handleSubmit","className","s","formInfo","profileDataForm","Input","fullName","Textarea","aboutMe","lookingForAJobDescription","keys","contacts","map","key","contact","contactKey","ProfileData","isOwner","editModeTrue","personal","lookingForAJob","onClick","ProfileContacts","profileContacts","profileContactsTitle","id","ProfileInfo","saveProfile","invalidUrl","Prelouder","src","photos","large","photo","alt","type","target","files","uploadPhoto","descriptionBlock","profileData","facebook","github","mainLink","twitter","vk","website","youtube","Post","item","img","message","likeCount","MyPosts","React","memo","postElements","post","reverse","postsBlock","onAddPost","postText","addPost","AddPostForm","maxValue20","maxValue","text","name","component","placeholder","validate","composeValidators","required","minValue","MyPostsContainer","connect","state","profileComponent","posts","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","autherizedUser","history","getUserProfile","getUserStatus","updateProfile","prevProps","prevState","snapshot","Component","compose","userProfile","authPage","setUserProfile","withRouter","withAuthRedirect","mapStateToPropsForRedirect","isAuth","RedirectComponent","to"],"mappings":"sJAIe,SAASA,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,K,oBIJtGC,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,SAAW,8BAA8B,MAAQ,2BAA2B,gBAAkB,qCAAqC,WAAa,gCAAgC,qBAAuB,0CAA0C,SAAW,gC,oBCAvUD,EAAOC,QAAU,CAAC,WAAa,4BAA4B,KAAO,sBAAsB,KAAO,wB,oBCA/FD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,IAAM,oB,2KC0CnCC,EAzCgB,SAACC,GAE5B,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4BF,mBAASD,EAAMI,QAA3C,mBAAOA,EAAP,KAAeC,EAAf,KAEAC,qBAAU,WACND,EAAUL,EAAMI,UACjB,CAACJ,EAAMI,SAeV,OACI,4CAC0B,IAAbF,GAEL,sBAAMK,cAjBC,WACfJ,GAAY,IAgBJ,SACKH,EAAMI,QAAU,eAIX,IAAbF,GACG,+BACI,uBAAOM,WAAW,EAAMC,SAfjB,SAACC,GACpBL,EAAUK,EAAEC,cAAcnB,QAcoCoB,OApB7C,WACjBT,GAAY,GACZH,EAAMa,aAAaT,IAkBmEZ,MAAOY,U,gBCGtFU,EAlCK,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,QAElC,OACI,8BACI,cAAC,IAAD,CACIC,SAAUF,EACVG,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACJ,uBAAMF,SAAUE,EAAhB,UAOI,sBAAKC,UAAWC,IAAEC,SAAlB,UACI,+CAAkBC,YAAgB,KAAM,YAAa,WAAYC,IAAO,KAAM,OAAQR,EAAQS,UAA9F,OACA,8CAAiBF,YAAgB,KAAM,WAAY,UAAWG,IAAU,KAAM,OAAQV,EAAQW,SAA9F,OACA,+CAAkBJ,YAAgB,KAAM,YAAa,4BAA6BG,IAAU,KAAM,OAAQV,EAAQY,2BAAlH,OACA,uDAA0BL,YAAgB,KAAM,KAAM,iBAAkBC,IAAO,KAAM,YAArF,UAIJ,qDACA,oCAAO3C,OAAOgD,KAAKb,EAAQc,UAAUC,KAAI,SAAAC,GACrC,OAAO,sBAAKZ,UAAWC,IAAEY,QAAlB,cAA4B,uBAAMb,UAAWC,IAAEa,WAAnB,cAAiCF,EAAjC,OAA5B,KAA4ET,YAAgB,KAAMS,EAAK,YAAcA,EAAKR,IAAO,KAAM,OAAQR,EAAQc,SAASE,IAAhK,UADX,OAIA,qD,2ECmClBG,EAAc,SAAC,GAAwC,IAAtCnB,EAAqC,EAArCA,QAASoB,EAA4B,EAA5BA,QAASC,EAAmB,EAAnBA,aACrC,OACI,gCACI,qBAAKjB,UAAWC,IAAEiB,SAAlB,kCACA,+CAAkBtB,EAAQS,SAA1B,OACA,8CAAiBT,EAAQW,QAAzB,OACA,+CAAkBX,EAAQY,0BAA1B,OACA,uDAA0BZ,EAAQuB,eAAiB,MAAQ,KAA3D,OACA,cAAC,EAAD,CAAiBvB,QAASA,IACzBoB,GAAW,wBAAQI,QAASH,EAAjB,sBAKlBI,EAAkB,SAAC,GAAiB,IAAfzB,EAAc,EAAdA,QACvB,OACI,sBAAKI,UAAWC,IAAEqB,gBAAlB,UACI,qBAAKtB,UAAWC,IAAEsB,qBAAlB,iCACC9D,OAAOgD,KAAKb,EAAQc,UAAUC,KAAI,SAAAC,GAC/B,OAAO,sBAAkBZ,UAAWC,IAAEY,QAA/B,cAA0CD,EAA1C,KAAiDhB,EAAQc,SAASE,GAAlE,MAAUA,EAAIY,WAMtBC,EArFK,SAAC,GAAmF,IAAjF7B,EAAgF,EAAhFA,QAASZ,EAAuE,EAAvEA,OAAQS,EAA+D,EAA/DA,aAAcuB,EAAiD,EAAjDA,QAASU,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAe/C,EAAY,iBACnG,EAA8BC,oBAAS,GAAvC,mBAAKC,EAAL,KAAeC,EAAf,KAEA,IAAKa,EACD,OAAO,cAACgC,EAAA,EAAD,IAkCX,OACI,gCACI,8BACI,qBAAKC,IAAKjC,EAAQkC,OAAOC,MAAO/B,UAAWC,IAAE+B,MAAOC,IAAI,eAG5D,8BACKjB,GAAW,uBAAOkB,KAAM,OAAQ7C,SAtC3B,SAACC,GACXA,EAAE6C,OAAOC,MAAM/D,QACfO,EAAMyD,YAAY/C,EAAE6C,OAAOC,MAAM,SAuCjC,sBAAKpC,UAAWC,IAAEqC,iBAAlB,UACI,cAAC,EAAD,CAAwBtD,OAAQA,EAAQS,aAAcA,IAEpDX,EAEI,cAAC,EAAD,CAAac,QAASA,EAASD,cApCzB,SAACL,GAErB,IAAIiD,EAAc,CACdlC,SAAUf,EAAEe,SACZE,QAASjB,EAAEiB,QACXC,0BAA2BlB,EAAEkB,0BAC7BW,eAAgB7B,EAAE6B,eAClBT,SAAU,CACN8B,SAAUlD,EAAEoB,SAAS8B,SACrBC,OAAQnD,EAAEoB,SAAS+B,OACnBC,SAAUpD,EAAEoB,SAASgC,SACrBC,QAASrD,EAAEoB,SAASiC,QACpBC,GAAItD,EAAEoB,SAASkC,GACfC,QAASvD,EAAEoB,SAASmC,QACpBC,QAASxD,EAAEoB,SAASoC,UAG5BpB,EAAYa,GACZxD,GAAY,MAiBA,cAAC,EAAD,CAAaa,QAASA,EAASoB,QAASA,EAASC,aAvC1C,WACnBlC,GAAY,SAyCR,8BAAM4C,EAAa,sBAAK3B,UAAWC,IAAE0B,WAAlB,cAAgCA,EAAhC,YAAqD7D,Q,oEC5CrEiF,EAdJ,SAACnE,GACR,OACI,8BACI,sBAAKoB,UAAWC,IAAE+C,KAAlB,UACI,qBAAKhD,UAAWC,IAAEgD,IAAKpB,IAAI,sGAAsGI,IAAI,QACpIrD,EAAMsE,QACP,8BACI,yCAAYtE,EAAMuE,qBCHhCC,EAAUC,IAAMC,MAAK,SAAiB1E,GAC1C,IAAI2E,EAAe,YAAI3E,EAAM4E,MAAMC,UAAU9C,KAAI,SAAA6C,GAAI,OAAI,cAAC,EAAD,CAAMN,QAASM,EAAKN,QAASC,UAAWK,EAAKL,WAAgBK,EAAKhC,OAO3H,OACE,sBAAKxB,UAAWC,IAAEyD,WAAlB,UACE,cAAC,EAAD,CAAaC,UAPD,SAACvF,GACf,IAAIwF,EAAWxF,EACfQ,EAAMiF,QAAQD,MAMZ,qBAAK5D,UAAWC,IAAE+C,KAAlB,sBAGA,qBAAKhD,UAAWC,IAAEuD,KAAlB,SACGD,UAMHO,EAAc,SAAClF,GACnB,IAKMmF,EAAaC,YAAS,IAE5B,OACE,8BACG,cAAC,IAAD,CACCnE,SAVW,SAACP,GAChBV,EAAM+E,UAAUrE,EAAE2E,MAClB3E,EAAE2E,KAAO,IAULnE,OAAQ,gBAAGC,EAAH,EAAGA,aAAH,OACN,uBAAMF,SAAUE,EAAhB,UACE,cAAC,IAAD,CAAOmE,KAAM,OAAQC,UAAW7D,IAAU8D,YAAa,cAAgBC,SAAUC,YAAkBC,IAAUR,EAAYS,YAAS,MAClI,wDAUGpB,ICjCAqB,EAFUC,aAfH,SAACC,GACnB,MAAO,CACHnB,KAAMmB,EAAMC,iBAAiBC,MAC7BC,YAAaH,EAAMC,iBAAiBE,gBAInB,SAACC,GACtB,MAAO,CACFlB,QAAS,SAACD,GACPmB,EAASC,YAAqBpB,QAKjBc,CAA8CtB,G,kBCAxD6B,EAdC,SAACrG,GAEf,OACE,sBAAKoB,UAAWC,IAAEL,QAAlB,UACE,cAAC,EAAD,yBAAaA,QAAShB,EAAMgB,QAASZ,OAAQJ,EAAMI,OAAQS,aAAcb,EAAMa,aAAcuB,QAASpC,EAAMoC,QAC1GU,YAAa9C,EAAM8C,aAAiB9C,GADtC,IAC6C+C,WAAY/C,EAAM+C,cAC/D,cAAC,EAAD,Q,uBCHAuD,E,mKAEF,WACI,IAAIC,EAASC,KAAKxG,MAAMyG,MAAMC,OAAOH,OAEhCA,IACDA,EAASC,KAAKxG,MAAM2G,gBAGnBJ,IACDA,EAASC,KAAKxG,MAAM4G,QAAQrH,KAAK,WAGrCiH,KAAKxG,MAAM6G,eAAeN,GAC1BC,KAAKxG,MAAM8G,cAAcP,K,+BAG7B,WACIC,KAAKO,kB,gCAGT,SAAmBC,EAAWC,EAAWC,GACjCV,KAAKxG,MAAMyG,MAAMC,OAAOH,SAAWS,EAAUP,MAAMC,OAAOH,QAC1DC,KAAKO,kB,oBAIb,WAEI,OACI,cAAC,EAAD,2BAAaP,KAAKxG,OAAlB,IAAyB8C,YAAa0D,KAAKxG,MAAM8C,YAAa1C,OAAQoG,KAAKxG,MAAMI,OAC7ES,aAAc2F,KAAKxG,MAAMa,aAAcuB,SAAUoE,KAAKxG,MAAMyG,MAAMC,OAAOH,OAAQxD,WAAYyD,KAAKxG,MAAM+C,kB,GA/BzF0B,IAAM0C,WA6CtBC,sBACXtB,aAVkB,SAACC,GACnB,MAAO,CACH/E,QAAS+E,EAAMC,iBAAiBqB,YAChCjH,OAAQ2F,EAAMC,iBAAiB5F,OAC/BuG,eAAgBZ,EAAMuB,SAAS1E,GAC/BG,WAAYgD,EAAMC,iBAAiBjD,cAKd,CAAEwE,mBAAgBV,mBAAgBC,kBAAejG,iBAAc4C,gBAAaX,kBACrG0E,IACAC,IAHWL,CAIbd,I,mJCrDEoB,EAA6B,SAAC3B,GAC9B,MAAO,CACH4B,OAAQ5B,EAAMuB,SAASK,SAIlBF,EAAmB,SAACN,GAAe,IACtCS,EADqC,4JAEvC,WACI,OAAKpB,KAAKxG,MAAM2H,OAEZ,cAACR,EAAD,eAAeX,KAAKxG,QAFO,cAAC,IAAD,CAAU6H,GAAG,eAHT,GACXpD,IAAM0C,WAWtC,OAFqCrB,YAAQ4B,EAAR5B,CAAqC8B","file":"static/js/3.dcdbe08a.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3iVQO\",\"formInfo\":\"ProfileInfo_formInfo__1bcfw\",\"photo\":\"ProfileInfo_photo__2q9qO\",\"profileContacts\":\"ProfileInfo_profileContacts__2LPzT\",\"invalidUrl\":\"ProfileInfo_invalidUrl__15DKk\",\"profileContactsTitle\":\"ProfileInfo_profileContactsTitle__3uwc0\",\"personal\":\"ProfileInfo_personal__2UO2O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2MoqA\",\"item\":\"MyPosts_item__3QvZm\",\"post\":\"MyPosts_post__1_2F0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__bU7IH\",\"img\":\"Post_img__dehKL\"};","import React, { useEffect, useState } from \"react\"\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    let activateMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    let deactivateMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            Status: {editMode === false &&\r\n\r\n                <span onDoubleClick={activateMode}>\r\n                    {props.status || '---------'}\r\n                </span>\r\n            }\r\n\r\n            {editMode === true &&\r\n                <span>\r\n                    <input autoFocus={true} onChange={onStatusChange} onBlur={deactivateMode} value={status} />\r\n                </span>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import { Form } from \"react-final-form\"\r\nimport { Input, profileDataForm, Textarea } from \"../../../Validate/FormsControl\"\r\nimport s from './../ProfileInfo.module.css';\r\n\r\nconst ProfileForm = ({ editModeFalse, profile }) => {\r\n    debugger\r\n    return (\r\n        <div>\r\n            <Form\r\n                onSubmit={editModeFalse}\r\n                render={({ handleSubmit }) => (\r\n                    <form onSubmit={handleSubmit}>\r\n                        {/* <div className={s.formInfo}>\r\n                            <div> Full name: {createForm(null, 'Full name', 'fullName', Input, null, 'text')} </div>\r\n                            <div> About me: {createForm(null, 'About me', 'aboutMe', Textarea, null, 'text')} </div>\r\n                            <div> My skills: {createForm(null, 'My skills', 'lookingForAJobDescription', Textarea, null, 'text')} </div>\r\n                            <div> Looking for a job: {createForm(null, null, 'lookingForAJob', Input, null, 'checkbox')} </div>\r\n                        </div> */}\r\n                        <div className={s.formInfo}>\r\n                            <div> Full name: {profileDataForm(null, 'Full name', 'fullName', Input, null, 'text', profile.fullName)} </div>\r\n                            <div> About me: {profileDataForm(null, 'About me', 'aboutMe', Textarea, null, 'text', profile.aboutMe)} </div>\r\n                            <div> My skills: {profileDataForm(null, 'My skills', 'lookingForAJobDescription', Textarea, null, 'text', profile.lookingForAJobDescription)} </div>\r\n                            <div> Looking for a job: {profileDataForm(null, null, 'lookingForAJob', Input, null, 'checkbox')} </div>\r\n                        </div>\r\n                        {/*<ProfileContacts profile={profile} />*/}\r\n\r\n                        <div> Profile contacts:</div>\r\n                        <div> {Object.keys(profile.contacts).map(key => {\r\n                            return <div className={s.contact}> <span className={s.contactKey}> {key} </span>: {profileDataForm(null, key, 'contacts.' + key, Input, null, 'text', profile.contacts[key])} </div>\r\n                        })} </div>\r\n\r\n                        <button>Submit</button>\r\n                    </form>\r\n                )} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileForm","import React, { useState } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Prelouder from './../../components/common/Prelouder';\r\nimport ProfileStatusWithHooks from './ProfileStatus/ProfileStatusWithHooks';\r\nimport ProfileForm from './ProfileForm/ProfileForm';\r\n\r\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, saveProfile, invalidUrl, ...props }) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!profile) {\r\n        return <Prelouder />\r\n    }\r\n\r\n    const onAddFile = (e) => {\r\n        if (e.target.files.length) {\r\n            props.uploadPhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    let activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    let deativateEditMode = (e) => {\r\n        debugger\r\n        let profileData = {\r\n            fullName: e.fullName,\r\n            aboutMe: e.aboutMe,\r\n            lookingForAJobDescription: e.lookingForAJobDescription,\r\n            lookingForAJob: e.lookingForAJob,\r\n            contacts: {\r\n                facebook: e.contacts.facebook,\r\n                github: e.contacts.github,\r\n                mainLink: e.contacts.mainLink,\r\n                twitter: e.contacts.twitter,\r\n                vk: e.contacts.vk,\r\n                website: e.contacts.website,\r\n                youtube: e.contacts.youtube\r\n            }\r\n        }\r\n        saveProfile(profileData);\r\n        setEditMode(false);\r\n    }\r\n    debugger\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src={profile.photos.large} className={s.photo} alt='user ava' />\r\n            </div>\r\n\r\n            <div>\r\n                {isOwner && <input type={'file'} onChange={onAddFile} />}\r\n            </div>\r\n\r\n            <div className={s.descriptionBlock}>\r\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n\r\n                {!editMode ?\r\n                    <ProfileData profile={profile} isOwner={isOwner} editModeTrue={activateEditMode} />\r\n                    : <ProfileForm profile={profile} editModeFalse={deativateEditMode} />}\r\n            </div>\r\n            <div>{invalidUrl ? <div className={s.invalidUrl}> {invalidUrl} </div> : undefined}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData = ({ profile, isOwner, editModeTrue }) => {\r\n    return (\r\n        <div>\r\n            <div className={s.personal}>Personal information</div>\r\n            <div> Full name: {profile.fullName} </div>\r\n            <div> About me: {profile.aboutMe} </div>\r\n            <div> My skills: {profile.lookingForAJobDescription} </div>\r\n            <div> Looking for a job: {profile.lookingForAJob ? 'yes' : 'no'} </div>\r\n            <ProfileContacts profile={profile} />\r\n            {isOwner && <button onClick={editModeTrue}>Edit</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileContacts = ({ profile }) => {\r\n    return (\r\n        <div className={s.profileContacts}>\r\n            <div className={s.profileContactsTitle}> Profile contacts: </div>\r\n            {Object.keys(profile.contacts).map(key => {\r\n                return <div key={key.id} className={s.contact}> {key}: {profile.contacts[key]} </div>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\nlet Post = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.item}>\r\n                <img className={s.img} src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbNslP7-_P7jz5MrT5yhW14y_IzBDbZZT0ag&usqp=CAU\" alt='ava' />\r\n                {props.message}\r\n                <div>\r\n                    <span>like {props.likeCount}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, Form } from 'react-final-form';\r\nimport { maxValue, required, composeValidators, minValue } from '../../../../Validate/validator';\r\nimport { Textarea } from '../../../../Validate/FormsControl';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post';\r\n\r\nconst MyPosts = React.memo(function MyPosts(props)  {\r\n  let postElements = [...props.post].reverse().map(post => <Post message={post.message} likeCount={post.likeCount} key={post.id} />);\r\n\r\n  let onAddPost = (value) => {\r\n    let postText = value;\r\n    props.addPost(postText);\r\n  }\r\n    \r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <AddPostForm onAddPost={onAddPost} />\r\n      <div className={s.item}>\r\n        New post\r\n      </div>\r\n      <div className={s.post}>\r\n        {postElements}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nconst AddPostForm = (props) => {\r\n  const onSubmit = (e) => {\r\n    props.onAddPost(e.text);\r\n    e.text = ''\r\n  }\r\n\r\n  const maxValue20 = maxValue(20)\r\n\r\n  return (\r\n    <div>\r\n       <Form\r\n        onSubmit={onSubmit}\r\n\r\n        render={({ handleSubmit }) => (\r\n          <form onSubmit={handleSubmit}>  \r\n            <Field name={'text'} component={Textarea} placeholder={'Create post'}  validate={composeValidators(required, maxValue20, minValue(1))}/>\r\n            <button> Add post</button>\r\n          </form>\r\n        )} /> \r\n\r\n\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return { \r\n        post: state.profileComponent.posts,\r\n        newPostText: state.profileComponent.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n         addPost: (postText) => {\r\n            dispatch(addPostActionCreator(postText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps) (MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from '../ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/Post/MyPostsContainer';\r\nimport s from './Profile.module.css';\r\n\r\nconst Profile = (props) => {\r\n  debugger\r\n  return (\r\n    <div className={s.profile}>\r\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} isOwner={props.isOwner}\r\n        saveProfile={props.saveProfile} {...props} invalidUrl={props.invalidUrl} />\r\n      <MyPostsContainer />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getUserProfile, getUserStatus, setUserProfile, updateStatus, uploadPhoto, saveProfile } from '../../redux/profileReducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../HOC/withAuthContainer';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    updateProfile() {\r\n        let userId = this.props.match.params.userId;\r\n\r\n        if (!userId) {\r\n            userId = this.props.autherizedUser;\r\n        }\r\n\r\n        if (!userId) {\r\n            userId = this.props.history.push('/login');\r\n        }\r\n\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.updateProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        debugger\r\n        return (\r\n            <Profile {...this.props} saveProfile={this.props.saveProfile} status={this.props.status}\r\n                updateStatus={this.props.updateStatus} isOwner={!this.props.match.params.userId} invalidUrl={this.props.invalidUrl} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profileComponent.userProfile,\r\n        status: state.profileComponent.status,\r\n        autherizedUser: state.authPage.id,\r\n        invalidUrl: state.profileComponent.invalidUrl\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { setUserProfile, getUserProfile, getUserStatus, updateStatus, uploadPhoto, saveProfile }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n            return (\r\n                <Component {...this.props} />\r\n            )\r\n        }        \r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n"],"sourceRoot":""}